

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Introduction to Rampart &mdash; Rampart 0.1.0 documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  
    <link rel="stylesheet" href="_static/theme_overrides.css" type="text/css" />
  
    <link rel="stylesheet" href="_static/hacks.css" type="text/css" />
  

  
        <link rel="index" title="Index"
              href="genindex.html"/>
        <link rel="search" title="Search" href="search.html"/>
    <link rel="top" title="Rampart 0.1.0 documentation" href="index.html"/>
        <link rel="next" title="The rampart-sql module" href="sqltoc.html"/>
        <link rel="prev" title="Welcome to Rampart’s documentation." href="index.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> Rampart
          

          
          </a>

          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Rampart Javascript</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#preface">Preface</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#acknowledgement">Acknowledgement</a></li>
<li class="toctree-l3"><a class="reference internal" href="#license">License</a></li>
<li class="toctree-l3"><a class="reference internal" href="#what-does-it-do">What does it do?</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#features">Features</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#core-features-of-duktape">Core features of Duktape</a></li>
<li class="toctree-l3"><a class="reference internal" href="#rampart-additions">Rampart additions</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#rampart-philosophy">Rampart philosophy</a></li>
<li class="toctree-l2"><a class="reference internal" href="#rampart-global-variable-and-functions">Rampart Global Variable and Functions</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#rampart-globalize">rampart.globalize</a></li>
<li class="toctree-l3"><a class="reference internal" href="#rampart-utils">rampart.utils</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#printf">printf</a></li>
<li class="toctree-l4"><a class="reference internal" href="#sprintf">sprintf</a></li>
<li class="toctree-l4"><a class="reference internal" href="#bprintf">bprintf</a></li>
<li class="toctree-l4"><a class="reference internal" href="#fopen">fopen</a></li>
<li class="toctree-l4"><a class="reference internal" href="#fclose">fclose</a></li>
<li class="toctree-l4"><a class="reference internal" href="#fprintf">fprintf</a></li>
<li class="toctree-l4"><a class="reference internal" href="#fseek">fseek</a></li>
<li class="toctree-l4"><a class="reference internal" href="#rewind">rewind</a></li>
<li class="toctree-l4"><a class="reference internal" href="#ftell">ftell</a></li>
<li class="toctree-l4"><a class="reference internal" href="#fflush">fflush</a></li>
<li class="toctree-l4"><a class="reference internal" href="#fread">fread</a></li>
<li class="toctree-l4"><a class="reference internal" href="#fwrite">fwrite</a></li>
<li class="toctree-l4"><a class="reference internal" href="#hexify">hexify</a></li>
<li class="toctree-l4"><a class="reference internal" href="#dehexify">dehexify</a></li>
<li class="toctree-l4"><a class="reference internal" href="#stringtobuffer">stringToBuffer</a></li>
<li class="toctree-l4"><a class="reference internal" href="#buffertostring">bufferToString</a></li>
<li class="toctree-l4"><a class="reference internal" href="#objecttoquery">objectToQuery</a></li>
<li class="toctree-l4"><a class="reference internal" href="#querytoobject">queryToObject</a></li>
<li class="toctree-l4"><a class="reference internal" href="#readfile">readFile</a></li>
<li class="toctree-l4"><a class="reference internal" href="#trim">trim</a></li>
<li class="toctree-l4"><a class="reference internal" href="#readline">readLine</a></li>
<li class="toctree-l4"><a class="reference internal" href="#stat">stat</a></li>
<li class="toctree-l4"><a class="reference internal" href="#lstat">lstat</a></li>
<li class="toctree-l4"><a class="reference internal" href="#exec">exec</a></li>
<li class="toctree-l4"><a class="reference internal" href="#shell">shell</a></li>
<li class="toctree-l4"><a class="reference internal" href="#kill">kill</a></li>
<li class="toctree-l4"><a class="reference internal" href="#mkdir">mkdir</a></li>
<li class="toctree-l4"><a class="reference internal" href="#rmdir">rmdir</a></li>
<li class="toctree-l4"><a class="reference internal" href="#readdir">readdir</a></li>
<li class="toctree-l4"><a class="reference internal" href="#copyfile">copyFile</a></li>
<li class="toctree-l4"><a class="reference internal" href="#rmfile">rmFile</a></li>
<li class="toctree-l4"><a class="reference internal" href="#link">link</a></li>
<li class="toctree-l4"><a class="reference internal" href="#symlink">symlink</a></li>
<li class="toctree-l4"><a class="reference internal" href="#chmod">chmod</a></li>
<li class="toctree-l4"><a class="reference internal" href="#touch">touch</a></li>
<li class="toctree-l4"><a class="reference internal" href="#rename">rename</a></li>
<li class="toctree-l4"><a class="reference internal" href="#sleep">sleep</a></li>
<li class="toctree-l4"><a class="reference internal" href="#getpid">getpid</a></li>
<li class="toctree-l4"><a class="reference internal" href="#getppid">getppid</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#rampart-import">rampart.import</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#csvfile">csvFile</a></li>
<li class="toctree-l4"><a class="reference internal" href="#csv">csv</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#process-global-variable-and-functions">Process Global Variable and Functions</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#exit">exit</a></li>
<li class="toctree-l3"><a class="reference internal" href="#env">env</a></li>
<li class="toctree-l3"><a class="reference internal" href="#argv">argv</a></li>
<li class="toctree-l3"><a class="reference internal" href="#scriptpath">scriptPath</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#using-the-require-function-to-import-modules">Using the require Function to Import Modules</a></li>
<li class="toctree-l2"><a class="reference internal" href="#additional-global-variables-and-functions">Additional Global Variables and Functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="#ecmascript-2015-and-babel-js">ECMAScript 2015+ and Babel.js</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#babel-acknowledgement">Babel Acknowledgement</a></li>
<li class="toctree-l3"><a class="reference internal" href="#babel-license">Babel License</a></li>
<li class="toctree-l3"><a class="reference internal" href="#usage">Usage</a></li>
<li class="toctree-l3"><a class="reference internal" href="#how-it-works">How it works</a></li>
<li class="toctree-l3"><a class="reference internal" href="#caveats">Caveats</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="sqltoc.html">The rampart-sql module</a></li>
<li class="toctree-l1"><a class="reference internal" href="rampart-server.html">The rampart-server module</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Rampart</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>Introduction to Rampart</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/rampart-main.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="introduction-to-rampart">
<h1>Introduction to Rampart<a class="headerlink" href="#introduction-to-rampart" title="Permalink to this headline">¶</a></h1>
<div class="section" id="preface">
<h2>Preface<a class="headerlink" href="#preface" title="Permalink to this headline">¶</a></h2>
<div class="section" id="acknowledgement">
<h3>Acknowledgement<a class="headerlink" href="#acknowledgement" title="Permalink to this headline">¶</a></h3>
<p>Rampart uses the <a class="reference external" href="https://duktape.org">Duktape Javascript Engine</a>. Duktape is an
embeddable JavaScript engine, with a focus on portability and compact footprint.
The developers of Rampart are extremely grateful for the excellent api and
ease of use of this library.</p>
</div>
<div class="section" id="license">
<h3>License<a class="headerlink" href="#license" title="Permalink to this headline">¶</a></h3>
<p>Duktape and the Core Rampart program are MIT licensed.</p>
</div>
<div class="section" id="what-does-it-do">
<h3>What does it do?<a class="headerlink" href="#what-does-it-do" title="Permalink to this headline">¶</a></h3>
<p>Rampart uses a low memory footprint JavaScript interpreter to bring together
several high performance tools and useful utilities for use in Web
and information management applications.  At its core is the Duktape
JavaScript library and added to it is a SQL database, full text search
engine, a fast and innovative NOSQL Mmap database, a fast multithreaded
webserver, client functionality via the Curl and crypto functions via
Openssl.  It attempts to provide performance, maximum flexibility and
ease of use through the marriage of C code and JavaScript scripting.</p>
</div>
</div>
<div class="section" id="features">
<h2>Features<a class="headerlink" href="#features" title="Permalink to this headline">¶</a></h2>
<div class="section" id="core-features-of-duktape">
<h3>Core features of Duktape<a class="headerlink" href="#core-features-of-duktape" title="Permalink to this headline">¶</a></h3>
<p>A partial list of Duktape features:</p>
<ul class="simple">
<li><p>Partial support for ECMAScript 2015 (E6) and ECMAScript 2016 (E7).</p></li>
<li><p>ES2015 TypedArray and Node.js <span class="green">Buffer</span> bindings</p></li>
<li><p>CBOR bindings</p></li>
<li><p>Encoding API bindings based on the WHATWG Encoding Living Standard</p></li>
<li><p>performance.now()</p></li>
<li><p>Built-in regular expression engine</p></li>
<li><p>Built-in Unicode support</p></li>
<li><p>Combined reference counting and mark-and-sweep garbage collection with finalization</p></li>
<li><p>Property virtualization using a subset of ECMAScript ES2015 Proxy object</p></li>
<li><p>Bytecode dump/load for caching compiled functions</p></li>
</ul>
<p>See full list <a class="reference external" href="https://duktape.org">Here</a></p>
</div>
<div class="section" id="rampart-additions">
<h3>Rampart additions<a class="headerlink" href="#rampart-additions" title="Permalink to this headline">¶</a></h3>
<p>In addition to the standard features in Duktape JavaScript, Rampart adds the
following:</p>
<ul class="simple">
<li><p>Standard module support for <code class="docutils literal notranslate"><span class="pre">C</span></code> and <code class="docutils literal notranslate"><span class="pre">Javascript</span></code> modules via the
<code class="docutils literal notranslate"><span class="pre">require()</span></code> function.</p></li>
<li><p>File and C-functions utilities such as <code class="docutils literal notranslate"><span class="pre">printf</span></code>, <code class="docutils literal notranslate"><span class="pre">fseek</span></code>, and <code class="docutils literal notranslate"><span class="pre">exec</span></code>.</p></li>
<li><p>Included <code class="docutils literal notranslate"><span class="pre">C</span></code> modules (<code class="docutils literal notranslate"><span class="pre">rampart-ramis</span></code>, <code class="docutils literal notranslate"><span class="pre">rampart-curl</span></code>, <code class="docutils literal notranslate"><span class="pre">rampart-sql</span></code>, <code class="docutils literal notranslate"><span class="pre">rampart-server</span></code> and
<code class="docutils literal notranslate"><span class="pre">rampart-crypto</span></code>).</p></li>
<li><p>Minimal event loop using <code class="docutils literal notranslate"><span class="pre">libevent2</span></code></p></li>
<li><p>ECMA 2015, 2016, 2017 and 2018 support using the <a class="reference external" href="https://babeljs.io/">Babel</a>
JavaScript transpiler.</p></li>
<li><p>Full Text Search and SQL databasing via <code class="docutils literal notranslate"><span class="pre">rampart-sql</span></code>.</p></li>
<li><p>Fast NOSQL database via <code class="docutils literal notranslate"><span class="pre">rampart-ramis</span></code>.</p></li>
<li><p>Multithreaded http(s) server from libevhtp via <code class="docutils literal notranslate"><span class="pre">rampart-server</span></code>.</p></li>
<li><p>http, ftp, etc. client functionality via <code class="docutils literal notranslate"><span class="pre">rampart-curl</span></code>.</p></li>
<li><p>Cryptography functions from Openssl via <code class="docutils literal notranslate"><span class="pre">rampart-crypto</span></code>.</p></li>
</ul>
</div>
</div>
<div class="section" id="rampart-philosophy">
<h2>Rampart philosophy<a class="headerlink" href="#rampart-philosophy" title="Permalink to this headline">¶</a></h2>
<p>Though Rampart supports <code class="docutils literal notranslate"><span class="pre">setTimeout()</span></code> (and other async functions via
babel), the functions added to <a class="reference external" href="https://duktape.org">Duktape</a>
via modules as well as the built-in functions are syncronous.  Raw JavaScript
execution is more memory efficient, but far slower than with, e.g., node.js.
However, the functionality and speed of the available C functions provide
comparable efficacy, excellent performance and are a viable alternative to
<a class="reference external" href="https://en.wikipedia.org/wiki/LAMP_(software_bundle)">LAMP</a>,
<a class="reference external" href="https://en.wikipedia.org/wiki/MEAN_(solution_stack)">MEAN</a> or other
stacks, all in a single product, while consuming considerably less resources
than the aforementioned.</p>
</div>
<div class="section" id="rampart-global-variable-and-functions">
<h2>Rampart Global Variable and Functions<a class="headerlink" href="#rampart-global-variable-and-functions" title="Permalink to this headline">¶</a></h2>
<p>Rampart provieds global variables beyond what is available in Duktape:
<code class="docutils literal notranslate"><span class="pre">rampart</span></code> and <code class="docutils literal notranslate"><span class="pre">process</span></code>, as well as the <code class="docutils literal notranslate"><span class="pre">require</span></code> function.  Below is
a listing of these added functions.</p>
<div class="section" id="rampart-globalize">
<h3>rampart.globalize<a class="headerlink" href="#rampart-globalize" title="Permalink to this headline">¶</a></h3>
<p>Put all or named properties of an <span class="green">Object</span> in the global namespace.</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">rampart</span><span class="p">.</span><span class="nx">globalize</span><span class="p">(</span><span class="nx">var_obj</span> <span class="p">[,</span> <span class="nx">prop_names</span><span class="p">]);</span>
</pre></div>
</div>
<table class="docutils align-default">
<colgroup>
<col style="width: 14%" />
<col style="width: 18%" />
<col style="width: 68%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Argument</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>var_obj</p></td>
<td><p><span class="green">Object</span></p></td>
<td><p>The <span class="green">Object</span> with the properties to be globalized</p></td>
</tr>
<tr class="row-odd"><td><p>prop_names</p></td>
<td><p><span class="green">Array</span></p></td>
<td><p>optional <span class="green">Array</span> of property names to be
put into the global namespace.  If specified, only
the named properties will be exported.</p></td>
</tr>
</tbody>
</table>
<dl class="simple">
<dt>Return value:</dt><dd><p><code class="docutils literal notranslate"><span class="pre">undefined</span></code>.</p>
</dd>
</dl>
<p>Example:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span> <span class="nx">rampart</span><span class="p">.</span><span class="nx">globalize</span><span class="p">(</span><span class="nx">rampart</span><span class="p">.</span><span class="nx">utils</span><span class="p">);</span>
 <span class="nx">printf</span><span class="p">(</span><span class="s2">&quot;rampart.utils.* are now global vars!\n&quot;</span><span class="p">);</span>

 <span class="cm">/* or */</span>

<span class="nx">rampart</span><span class="p">.</span><span class="nx">globalize</span><span class="p">(</span><span class="nx">rampart</span><span class="p">.</span><span class="nx">utils</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;printf&quot;</span><span class="p">]);</span>
<span class="nx">printf</span><span class="p">(</span><span class="s2">&quot;only printf is a global var\n&quot;</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="rampart-utils">
<h3>rampart.utils<a class="headerlink" href="#rampart-utils" title="Permalink to this headline">¶</a></h3>
<p>Utility functions are provided by the global <code class="docutils literal notranslate"><span class="pre">rampart.utils</span></code> <span class="green">Object</span>.
These functions bring file io and other functionality to Duktape JavaScript.</p>
<p><a class="reference internal" href="#fprintf">fprintf</a> (), <a class="reference internal" href="#fseek">fseek</a>(), <a class="reference internal" href="#rewind">rewind</a>(), <a class="reference internal" href="#ftell">ftell</a>(), <a class="reference internal" href="#fflush">fflush</a>(),
<a class="reference internal" href="#fread">fread</a>() and <a class="reference internal" href="#fwrite">fwrite</a>() take a filehandle, which may be obtained
using <a class="reference internal" href="#fopen">fopen</a>(), or by using one of the following:</p>
<dl class="simple">
<dt>rampart.utils.stdin:</dt><dd><p>A handle that corresponds to the UNIX standard in stream.</p>
</dd>
<dt>rampart.utils.stdout:</dt><dd><p>A handle that corresponds to the UNIX standard out stream.</p>
</dd>
<dt>rampart.utils.stderr:</dt><dd><p>A handle that corresponds to the Unix standard error stream.</p>
</dd>
<dt>rampart.utils.accessLog:</dt><dd><p>A handle that corresponds to the <code class="docutils literal notranslate"><span class="pre">accessLog</span></code> file option in <code class="docutils literal notranslate"><span class="pre">server.start()</span></code> for the
<code class="docutils literal notranslate"><span class="pre">rampart-server</span></code> module.  If not specified, or not loaded, same as
<code class="docutils literal notranslate"><span class="pre">rampart.utils.stdout</span></code>.</p>
</dd>
<dt>rampart.utils.errorLog:</dt><dd><p>A handle that corresponds to the <code class="docutils literal notranslate"><span class="pre">errorLog</span></code> file option in <code class="docutils literal notranslate"><span class="pre">server.start()</span></code> for the
<code class="docutils literal notranslate"><span class="pre">rampart-server</span></code> module.  If not specified, or not loaded, same as
<code class="docutils literal notranslate"><span class="pre">rampart.utils.stderr</span></code>.</p>
</dd>
</dl>
<div class="section" id="printf">
<h4>printf<a class="headerlink" href="#printf" title="Permalink to this headline">¶</a></h4>
<p>Print a formatted string to stdout.  Provides C-like
<a class="reference external" href="https://man7.org/linux/man-pages/man3/printf.3.html">printf(3)</a>
functionality in JavaScript.</p>
<p>Usage:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">rampart</span><span class="p">.</span><span class="nx">utils</span><span class="p">.</span><span class="nx">printf</span><span class="p">(</span><span class="nx">fmt</span><span class="p">,</span> <span class="p">...)</span>
</pre></div>
</div>
<dl class="simple">
<dt>Return Value:</dt><dd><p><span class="green">Number</span>. The length in characters of the printed string.</p>
</dd>
</dl>
<p>Standard formats:  Most of the normal flags and formats are respected.
See standard formats and flags from
<a class="reference external" href="https://man7.org/linux/man-pages/man3/printf.3.html">printf(3)</a>.</p>
<p>Extended (non-standard) formats:</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">%s</span></code> - corresponding argument is treated as a <span class="green">String</span>
(converted/coerced if necessary; <span class="green">Objects</span> and <span class="green">Buffers</span>
are converted the same as for <code class="docutils literal notranslate"><span class="pre">%J</span></code> and <code class="docutils literal notranslate"><span class="pre">%B</span></code> below).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">%S</span></code> - same as <code class="docutils literal notranslate"><span class="pre">%s</span></code> except an error is thrown if corresponding argument is
not a <span class="green">String</span>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">%J</span></code> - print <span class="green">Object</span> as JSON.  An optional width (i.e.
<code class="docutils literal notranslate"><span class="pre">printf(&quot;%4J&quot;,</span> <span class="pre">obj);</span></code>) may be given which will print with new lines and
indentation of the specified amount. Thus <code class="docutils literal notranslate"><span class="pre">printf(&quot;%4J&quot;,</span> <span class="pre">obj);</span></code> is
equivalent to <code class="docutils literal notranslate"><span class="pre">printf(&quot;%s&quot;,</span> <span class="pre">JSON.stringify(obj,</span> <span class="pre">null,</span> <span class="pre">4)</span> <span class="pre">);</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">%B</span></code> - print contents of a <span class="green">Buffer</span> as is.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">%U</span></code> - url encode (or if <code class="docutils literal notranslate"><span class="pre">!</span></code> flag present, decode) a <span class="green">String</span>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">%H</span></code> - html encode (or if <code class="docutils literal notranslate"><span class="pre">!</span></code> flag present, decode) a <span class="green">String</span>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">%P</span></code> - pretty print a <span class="green">String</span> or <span class="green">Buffer</span>.  Expects
text with white space.  Format is <code class="docutils literal notranslate"><span class="pre">%i.wP</span></code> where <code class="docutils literal notranslate"><span class="pre">i</span></code> is the level of
indentation and <code class="docutils literal notranslate"><span class="pre">w</span></code> is the length of each line (default <code class="docutils literal notranslate"><span class="pre">80</span></code> if not
specified).  If format <code class="docutils literal notranslate"><span class="pre">%!i.wP</span></code> is given, newlines are not converted
to spaces (but text after newlines is still indented).</p></li>
</ul>
</div></blockquote>
<p>Example:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">uenc</span> <span class="o">=</span> <span class="s2">&quot;a+url+encoded+string.+%27%23%24%3f%27&quot;</span><span class="p">;</span>

<span class="nx">rampart</span><span class="p">.</span><span class="nx">utils</span><span class="p">.</span><span class="nx">printf</span><span class="p">(</span><span class="s2">&quot;Encoded: %s\nDecoded: %!U\n&quot;</span><span class="p">,</span> <span class="nx">uenc</span><span class="p">,</span> <span class="nx">uenc</span><span class="p">);</span>

<span class="cm">/* expected output:</span>
<span class="cm">Encoded: a+url+encoded+string.+%27%23%24%3f%27</span>
<span class="cm">Decoded: a url encoded string. &#39;#$?&#39;</span>
<span class="cm">*/</span>

<span class="kd">var</span> <span class="nx">getty</span> <span class="o">=</span> <span class="s2">&quot;Four score and seven years ago our fathers\n&quot;</span> <span class="o">+</span>
         <span class="s2">&quot;brought forth on this continent, a new nation,\n&quot;</span> <span class="o">+</span>
         <span class="s2">&quot;conceived in Liberty, and dedicated to the proposition\n&quot;</span> <span class="o">+</span>
         <span class="s2">&quot;that all men are created equal.&quot;</span>

<span class="nx">rampart</span><span class="p">.</span><span class="nx">utils</span><span class="p">.</span><span class="nx">printf</span><span class="p">(</span><span class="s2">&quot;%5.40P\n&quot;</span><span class="p">,</span> <span class="nx">getty</span><span class="p">);</span>
<span class="cm">/* or</span>
<span class="cm">     rampart.utils.printf(&quot;%*.*P\n&quot;, 5, 40, getty);</span>
<span class="cm">*/</span>

<span class="cm">/* expected output:</span>
<span class="cm">     Four score and seven years ago our</span>
<span class="cm">     fathers brought forth on this</span>
<span class="cm">     continent, a new nation, conceived</span>
<span class="cm">     in Liberty, and dedicated to the</span>
<span class="cm">     proposition that all men are</span>
<span class="cm">     created equal.</span>
<span class="cm">*/</span>
</pre></div>
</div>
</div>
<div class="section" id="sprintf">
<h4>sprintf<a class="headerlink" href="#sprintf" title="Permalink to this headline">¶</a></h4>
<p>Same as <code class="docutils literal notranslate"><span class="pre">printf()</span></code> except a <span class="green">String</span> is returned</p>
<dl class="simple">
<dt>Return Value:</dt><dd><p><span class="green">String</span>. The formatted string.</p>
</dd>
</dl>
</div>
<div class="section" id="bprintf">
<h4>bprintf<a class="headerlink" href="#bprintf" title="Permalink to this headline">¶</a></h4>
<p>Same as <code class="docutils literal notranslate"><span class="pre">sprintf()</span></code> except a <span class="green">Buffer</span> is returned.</p>
<dl class="simple">
<dt>Return Value:</dt><dd><p><span class="green">Buffer</span>.  The formatted string as a <span class="green">Buffer</span>.</p>
</dd>
</dl>
</div>
<div class="section" id="fopen">
<h4>fopen<a class="headerlink" href="#fopen" title="Permalink to this headline">¶</a></h4>
<p>Open a filehandle for use with <a class="reference internal" href="#fprintf">fprintf</a>(), <a class="reference internal" href="#fclose">fclose</a>(), <a class="reference internal" href="#fseek">fseek</a>(),
<a class="reference internal" href="#rewind">rewind</a>(), <a class="reference internal" href="#ftell">ftell</a>(), <a class="reference internal" href="#fflush">fflush</a>() <a class="reference internal" href="#fread">fread</a>() and <a class="reference internal" href="#fwrite">fwrite</a>().</p>
<dl class="simple">
<dt>Return Value:</dt><dd><p><span class="green">Object</span>. The opened filehandle.</p>
</dd>
</dl>
<p>Usage:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">handle</span> <span class="o">=</span> <span class="nx">rampart</span><span class="p">.</span><span class="nx">utils</span><span class="p">.</span><span class="nx">fopen</span><span class="p">(</span><span class="nx">filename</span><span class="p">,</span> <span class="nx">mode</span><span class="p">);</span>
</pre></div>
</div>
<p>Where <code class="docutils literal notranslate"><span class="pre">filename</span></code> is a <span class="green">String</span> containing the file to be opened and mode is
a <span class="green">String</span> (one of the following):</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;r&quot;</span></code> - Open text file for reading.  The stream is positioned at the
beginning of the file.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;r+&quot;</span></code> - Open for reading and writing.  The stream is positioned at the
beginning of the file.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;w&quot;</span></code> - Truncate file to zero length or create text file for writing.
The stream is positioned at the beginning of the file.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;w+&quot;</span></code> - Open for reading and writing.  The file is created if it does
not exist, otherwise it is truncated.  The stream is positioned at the
beginning of the file.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;a&quot;</span></code> - Open for appending (writing at end of file).  The file is
created if it does not exist.  The stream is positioned at the end of the
file.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;a+&quot;</span></code> - Open for reading and appending (writing at end of file).  The
file is created if it does not exist.  The initial file position for reading
is at the beginning of the file, but output is always appended to the end of the
file.</p></li>
</ul>
</div>
<div class="section" id="fclose">
<h4>fclose<a class="headerlink" href="#fclose" title="Permalink to this headline">¶</a></h4>
<p>Close a previously opened handle <span class="green">Object</span> opened with <a class="reference internal" href="#fopen">fopen</a>().</p>
<p>Example:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">handle</span> <span class="o">=</span> <span class="nx">rampart</span><span class="p">.</span><span class="nx">utils</span><span class="p">.</span><span class="nx">fopen</span><span class="p">(</span><span class="s2">&quot;/tmp/out.txt&quot;</span><span class="p">,</span> <span class="s2">&quot;a&quot;</span><span class="p">);</span>
<span class="p">...</span>
<span class="nx">rampart</span><span class="p">.</span><span class="nx">utils</span><span class="p">.</span><span class="nx">fclose</span><span class="p">(</span><span class="nx">handle</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="fprintf">
<h4>fprintf<a class="headerlink" href="#fprintf" title="Permalink to this headline">¶</a></h4>
<p>Same as <code class="docutils literal notranslate"><span class="pre">printf()</span></code> except output is sent to the file provided by
a <span class="green">String</span> or filehandle <span class="green">Object</span> opened and returned from <a class="reference internal" href="#fopen">fopen</a>().</p>
<p>Usage:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">filename</span> <span class="o">=</span> <span class="s2">&quot;/home/user/myfile.txt&quot;</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">output</span> <span class="o">=</span> <span class="nx">rampart</span><span class="p">.</span><span class="nx">utils</span><span class="p">.</span><span class="nx">fopen</span><span class="p">(</span><span class="nx">filename</span><span class="p">,</span> <span class="nx">mode</span><span class="p">);</span>
<span class="nx">rampart</span><span class="p">.</span><span class="nx">utils</span><span class="p">.</span><span class="nx">fprintf</span><span class="p">(</span><span class="nx">output</span><span class="p">,</span> <span class="nx">fmt</span><span class="p">,</span> <span class="p">...);</span>
<span class="nx">rampart</span><span class="p">.</span><span class="nx">utils</span><span class="p">.</span><span class="nx">fclose</span><span class="p">(</span><span class="nx">output</span><span class="p">);</span>

<span class="cm">/* or */</span>

<span class="kd">var</span> <span class="nx">output</span> <span class="o">=</span> <span class="nx">filename</span><span class="p">;</span>
<span class="nx">rampart</span><span class="p">.</span><span class="nx">utils</span><span class="p">.</span><span class="nx">fprintf</span><span class="p">(</span><span class="nx">output</span><span class="p">,</span> <span class="p">[,</span> <span class="nx">append</span><span class="p">],</span> <span class="nx">fmt</span><span class="p">,</span> <span class="p">...);</span>
<span class="cm">/* file is automatically closed after function returns */</span>
</pre></div>
</div>
<p>Where:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">output</span></code> may be a <span class="green">String</span> (a filename), or an <span class="green">Object</span> returned from <a class="reference internal" href="#fopen">fopen</a>().</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">fmt</span></code> is a <span class="green">String</span>, a <a class="reference internal" href="#printf">printf</a>() format.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">append</span></code> is an optional <span class="green">Boolean</span> - if <code class="docutils literal notranslate"><span class="pre">true</span></code> append instead of
overwrite an existing file.</p></li>
</ul>
<dl class="simple">
<dt>Return Value:</dt><dd><p><span class="green">Number</span>. The length in characters of the printed string.</p>
</dd>
</dl>
<p>Example:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">handle</span> <span class="o">=</span> <span class="nx">fopen</span><span class="p">(</span><span class="s2">&quot;/tmp/out.txt&quot;</span><span class="p">,</span> <span class="s2">&quot;w+&quot;</span><span class="p">);</span>
<span class="nx">fprintf</span><span class="p">(</span><span class="nx">handle</span><span class="p">,</span> <span class="s2">&quot;A number: %d\n&quot;</span><span class="p">,</span> <span class="mi">123</span><span class="p">);</span>
<span class="nx">fclose</span><span class="p">(</span><span class="nx">handle</span><span class="p">);</span>

<span class="cm">/* OR */</span>

<span class="nx">fprintf</span><span class="p">(</span><span class="s2">&quot;/tmp/out.txt&quot;</span><span class="p">,</span> <span class="s2">&quot;A number: %d\n&quot;</span><span class="p">,</span> <span class="mi">456</span><span class="p">);</span> <span class="cm">/* implicit fclose */</span>
</pre></div>
</div>
</div>
<div class="section" id="fseek">
<h4>fseek<a class="headerlink" href="#fseek" title="Permalink to this headline">¶</a></h4>
<p>Set file position for file operations.</p>
<p>Usage:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">rampart</span><span class="p">.</span><span class="nx">utils</span><span class="p">.</span><span class="nx">fseek</span><span class="p">(</span><span class="nx">handle</span><span class="p">,</span> <span class="nx">offset</span><span class="p">,</span> <span class="nx">whence</span><span class="p">);</span>
</pre></div>
</div>
<table class="docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 20%" />
<col style="width: 65%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Argument</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>handle</p></td>
<td><p><span class="green">Object</span></p></td>
<td><p>A handle opened with <a class="reference internal" href="#fopen">fopen</a>()</p></td>
</tr>
<tr class="row-odd"><td><p>offset</p></td>
<td><p><span class="green">Number</span></p></td>
<td><p>offset in bytes from whence</p></td>
</tr>
<tr class="row-even"><td rowspan="3"><p>whence</p></td>
<td rowspan="3"><p><span class="green">String</span></p></td>
<td><p>“seek_set” - measure offset from start of file</p></td>
</tr>
<tr class="row-odd"><td><p>“seek_cur” - measure offsef from current position</p></td>
</tr>
<tr class="row-even"><td><p>“seek_end” - measure offset from end of file.</p></td>
</tr>
</tbody>
</table>
<dl class="simple">
<dt>Return Value:</dt><dd><p><code class="docutils literal notranslate"><span class="pre">undefined</span></code></p>
</dd>
</dl>
<p>Example</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">rampart</span><span class="p">.</span><span class="nx">globalize</span><span class="p">(</span><span class="nx">rampart</span><span class="p">.</span><span class="nx">utils</span><span class="p">,</span>
  <span class="p">[</span><span class="s2">&quot;fopen&quot;</span><span class="p">,</span><span class="s2">&quot;printf&quot;</span><span class="p">,</span><span class="s2">&quot;fprintf&quot;</span><span class="p">,</span><span class="s2">&quot;fseek&quot;</span><span class="p">,</span><span class="s2">&quot;fread&quot;</span><span class="p">]);</span>

<span class="kd">var</span> <span class="nx">handle</span> <span class="o">=</span> <span class="nx">fopen</span><span class="p">(</span><span class="s2">&quot;/tmp/out.txt&quot;</span><span class="p">,</span> <span class="s2">&quot;w+&quot;</span><span class="p">);</span>

<span class="nx">fprintf</span><span class="p">(</span><span class="nx">handle</span><span class="p">,</span> <span class="s2">&quot;123def&quot;</span><span class="p">);</span>

<span class="nx">fseek</span><span class="p">(</span><span class="nx">handle</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;seek_set&quot;</span><span class="p">);</span>

<span class="nx">fprintf</span><span class="p">(</span><span class="nx">handle</span><span class="p">,</span> <span class="s2">&quot;abc&quot;</span><span class="p">);</span>

<span class="nx">fseek</span><span class="p">(</span><span class="nx">handle</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;seek_set&quot;</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">out</span><span class="o">=</span><span class="nx">fread</span><span class="p">(</span><span class="nx">handle</span><span class="p">);</span>

<span class="nx">printf</span><span class="p">(</span><span class="s2">&quot;%B&quot;</span><span class="p">,</span> <span class="nx">out</span><span class="p">);</span>
<span class="cm">/* expect output: &quot;abcdef&quot; */</span>

<span class="nx">fclose</span><span class="p">(</span><span class="nx">handle</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="rewind">
<h4>rewind<a class="headerlink" href="#rewind" title="Permalink to this headline">¶</a></h4>
<p>Set the file position to the beginning of the file.  It is equivalent to:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">fseek</span><span class="p">(</span><span class="nx">handle</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;seek_set&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>Usage:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">rewind</span><span class="p">(</span><span class="nx">handle</span><span class="p">);</span>
</pre></div>
</div>
<dl class="simple">
<dt>Return Value:</dt><dd><p><code class="docutils literal notranslate"><span class="pre">undefined</span></code></p>
</dd>
</dl>
</div>
<div class="section" id="ftell">
<h4>ftell<a class="headerlink" href="#ftell" title="Permalink to this headline">¶</a></h4>
<p>Obtain the current value of the file position for the handle opened with
<a class="reference internal" href="#fopen">fopen</a>().</p>
<p>Usage:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">pos</span> <span class="o">=</span> <span class="nx">rampart</span><span class="p">.</span><span class="nx">utils</span><span class="p">.</span><span class="nx">ftell</span><span class="p">(</span><span class="nx">handle</span><span class="p">);</span>
</pre></div>
</div>
<dl class="simple">
<dt>Return Value:</dt><dd><p><span class="green">Number</span>. Current position of <code class="docutils literal notranslate"><span class="pre">handle</span></code>.</p>
</dd>
</dl>
</div>
<div class="section" id="fflush">
<h4>fflush<a class="headerlink" href="#fflush" title="Permalink to this headline">¶</a></h4>
<p>For output file handles opened with <a class="reference internal" href="#fopen">fopen</a>(), or for
<code class="docutils literal notranslate"><span class="pre">stdout</span></code>/<code class="docutils literal notranslate"><span class="pre">stderr</span></code>/<code class="docutils literal notranslate"><span class="pre">accessLog</span></code>/<code class="docutils literal notranslate"><span class="pre">errorLog</span></code>, <code class="docutils literal notranslate"><span class="pre">fflush()</span></code> forces a
write of buffered data.</p>
<p>Usage:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">rampart</span><span class="p">.</span><span class="nx">utils</span><span class="p">.</span><span class="nx">fflush</span><span class="p">(</span><span class="nx">handle</span><span class="p">);</span>
</pre></div>
</div>
<p>Example:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="cm">/* normally a flush happens automatically</span>
<span class="cm">   when a &#39;\n&#39; is printed.  Since we are using</span>
<span class="cm">   &#39;\r&#39;, flush manually                        */</span>

<span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="nx">i</span><span class="o">&lt;</span> <span class="mi">10</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
   <span class="nx">rampart</span><span class="p">.</span><span class="nx">utils</span><span class="p">.</span><span class="nx">printf</span><span class="p">(</span><span class="s2">&quot;doing #%d\r&quot;</span><span class="p">,</span> <span class="nx">i</span><span class="p">);</span>
   <span class="nx">rampart</span><span class="p">.</span><span class="nx">utils</span><span class="p">.</span><span class="nx">fflush</span><span class="p">(</span><span class="nx">rampart</span><span class="p">.</span><span class="nx">utils</span><span class="p">.</span><span class="nx">stdout</span><span class="p">);</span>
   <span class="nx">rampart</span><span class="p">.</span><span class="nx">utils</span><span class="p">.</span><span class="nx">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
<span class="p">}</span>

<span class="nx">rampart</span><span class="p">.</span><span class="nx">utils</span><span class="p">.</span><span class="nx">printf</span><span class="p">(</span><span class="s2">&quot;blast off!!!\n&quot;</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="fread">
<h4>fread<a class="headerlink" href="#fread" title="Permalink to this headline">¶</a></h4>
<p>Read data from a handle opened with <a class="reference internal" href="#fopen">fopen</a>() or <code class="docutils literal notranslate"><span class="pre">stdin</span></code>.</p>
<p>Usage:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">rampart</span><span class="p">.</span><span class="nx">utils</span><span class="p">.</span><span class="nx">fread</span><span class="p">(</span><span class="nx">handle</span> <span class="p">[,</span> <span class="nx">chunk_size</span> <span class="p">[,</span> <span class="nx">max_size</span><span class="p">]]);</span>
</pre></div>
</div>
<table class="docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 21%" />
<col style="width: 64%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Argument</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>handle</p></td>
<td><p><span class="green">Object</span></p></td>
<td><p>A handle opened with <a class="reference internal" href="#fopen">fopen</a>()</p></td>
</tr>
<tr class="row-odd"><td><p>chunk_size</p></td>
<td><p><span class="green">Number</span></p></td>
<td><p>Initial size of return <span class="green">Buffer</span> and number
of bytes to read at a time. If total number of
bytes read is greater, the buffer grows as needed.
If total bytes read is less, the returned buffer
will be reduced in size to match. Default is 4096
if not specified.</p></td>
</tr>
<tr class="row-even"><td><p>max_size</p></td>
<td><p><span class="green">Number</span></p></td>
<td><p>Maximum number of bytes to read.  Unlimited if
not specified.</p></td>
</tr>
</tbody>
</table>
<dl class="simple">
<dt>Return Value:</dt><dd><p><span class="green">Buffer</span>. Contents set to the read bytes.</p>
</dd>
</dl>
</div>
<div class="section" id="fwrite">
<h4>fwrite<a class="headerlink" href="#fwrite" title="Permalink to this headline">¶</a></h4>
<p>Write data to handle opened with <a class="reference internal" href="#fopen">fopen</a>() or <code class="docutils literal notranslate"><span class="pre">stdout</span></code>/<code class="docutils literal notranslate"><span class="pre">stderr</span></code>.</p>
<p>Usage:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">nbytes</span> <span class="o">=</span> <span class="nx">rampart</span><span class="p">.</span><span class="nx">utils</span><span class="p">.</span><span class="nx">frwrite</span><span class="p">(</span><span class="nx">handle</span><span class="p">,</span> <span class="nx">data</span> <span class="p">[,</span> <span class="nx">max_bytes</span><span class="p">]);</span>
</pre></div>
</div>
<table class="docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 21%" />
<col style="width: 64%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Argument</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>handle</p></td>
<td><p><span class="green">Object</span></p></td>
<td><p>A handle opened with <a class="reference internal" href="#fopen">fopen</a>()</p></td>
</tr>
<tr class="row-odd"><td><p>data</p></td>
<td><p><span class="green">Buffer</span>/
<span class="green">String</span></p></td>
<td><p>The data to be written.</p></td>
</tr>
<tr class="row-even"><td><p>max_bytes</p></td>
<td><p><span class="green">Number</span></p></td>
<td><p>Maximum number of bytes to write. <span class="green">Buffer</span>/
<span class="green">String</span> length if not specified.</p></td>
</tr>
</tbody>
</table>
<dl class="simple">
<dt>Return Value:</dt><dd><p><span class="green">Number</span>. Number of bytes written.</p>
</dd>
</dl>
</div>
<div class="section" id="hexify">
<h4>hexify<a class="headerlink" href="#hexify" title="Permalink to this headline">¶</a></h4>
<p>Convert data to a hex string.</p>
<p>Usage:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">hexstring</span> <span class="o">=</span> <span class="nx">rampart</span><span class="p">.</span><span class="nx">utils</span><span class="p">.</span><span class="nx">hexify</span><span class="p">(</span><span class="nx">data</span> <span class="p">[,</span> <span class="nx">upper</span><span class="p">]);</span>
</pre></div>
</div>
<p>Where <code class="docutils literal notranslate"><span class="pre">data</span></code> is the string of bytes (<span class="green">String</span> or <span class="green">Buffer</span>)
to be converted and <code class="docutils literal notranslate"><span class="pre">upper</span></code> is an optional <span class="green">Boolean</span>, which if
<code class="docutils literal notranslate"><span class="pre">true</span></code> prints using upper-case <code class="docutils literal notranslate"><span class="pre">A-F</span></code>.</p>
<dl class="simple">
<dt>Return Value:</dt><dd><p><span class="green">String</span>. Each byte in data is converted to its two character hex representation.</p>
</dd>
</dl>
<p>Example:  See <a class="reference internal" href="#dehexify">dehexify</a> below.</p>
</div>
<div class="section" id="dehexify">
<h4>dehexify<a class="headerlink" href="#dehexify" title="Permalink to this headline">¶</a></h4>
<p>Convert a hex string to a string of bytes.</p>
<p>Usage:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">data</span> <span class="o">=</span> <span class="nx">rampart</span><span class="p">.</span><span class="nx">utils</span><span class="p">.</span><span class="nx">hexify</span><span class="p">(</span><span class="nx">hexstring</span><span class="p">);</span>
</pre></div>
</div>
<dl class="simple">
<dt>Return Value:</dt><dd><p><span class="green">Buffer</span>.  Each two character hex representation converted to a
byte in the binary string.</p>
</dd>
</dl>
<p>Example:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">rampart</span><span class="p">.</span><span class="nx">globalize</span><span class="p">(</span><span class="nx">rampart</span><span class="p">.</span><span class="nx">utils</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">s</span><span class="o">=</span><span class="nx">sprintf</span><span class="p">(</span><span class="s2">&quot;%c%c%c%c&quot;</span><span class="p">,</span><span class="mh">0xF0</span><span class="p">,</span> <span class="mh">0x9F</span><span class="p">,</span> <span class="mh">0x98</span><span class="p">,</span> <span class="mh">0x8A</span><span class="p">);</span>

<span class="nx">printf</span><span class="p">(</span><span class="s2">&quot;0x%s\n&quot;</span><span class="p">,</span> <span class="nx">hexify</span><span class="p">(</span><span class="nx">s</span><span class="p">)</span> <span class="p">);</span>
<span class="nx">printf</span><span class="p">(</span><span class="s2">&quot;%B\n&quot;</span><span class="p">,</span> <span class="nx">dehexify</span><span class="p">(</span><span class="nx">hexify</span><span class="p">(</span><span class="nx">s</span><span class="p">))</span> <span class="p">);</span>

<span class="cm">/* expected output:</span>
<span class="cm">0xf09f988a</span>
<span class="cm">😊</span>
<span class="cm">*/</span>
</pre></div>
</div>
</div>
<div class="section" id="stringtobuffer">
<h4>stringToBuffer<a class="headerlink" href="#stringtobuffer" title="Permalink to this headline">¶</a></h4>
<p>Performs a byte-for-byte copy of <span class="green">String</span> into a <span class="green">Buffer</span>.
Also convert one <span class="green">Buffer</span> to a <span class="green">Buffer</span> of another type.
See <code class="docutils literal notranslate"><span class="pre">duk_to_buffer()</span></code> in the
<a class="reference external" href="https://wiki.duktape.org/howtobuffers2x#string-to-buffer-conversion">Duktape documentation</a></p>
<p>Usage:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">buf</span> <span class="o">=</span> <span class="nx">rampart</span><span class="p">.</span><span class="nx">utils</span><span class="p">.</span><span class="nx">stringToBuffer</span><span class="p">(</span><span class="nx">data</span> <span class="p">[,</span> <span class="nx">buftype</span> <span class="p">]);</span>
</pre></div>
</div>
<p>Where <code class="docutils literal notranslate"><span class="pre">data</span></code> is a <span class="green">String</span> or <span class="green">Buffer</span> and <code class="docutils literal notranslate"><span class="pre">buftype</span></code> is one of the following
<span class="green">Strings</span>:</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;fixed&quot;</span></code> - returned <span class="green">Buffer</span> is a “fixed” <span class="green">Buffer</span>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;dynamic&quot;</span></code> - returned <span class="green">Buffer</span> is a “dynamic” <span class="green">Buffer</span>.</p></li>
</ul>
</div></blockquote>
<p>If no <code class="docutils literal notranslate"><span class="pre">buftype</span></code> is given and <code class="docutils literal notranslate"><span class="pre">data</span></code> is a <span class="green">Buffer</span>, the same type of <span class="green">Buffer</span>
is returned.  If no <code class="docutils literal notranslate"><span class="pre">buftype</span></code> is given and <code class="docutils literal notranslate"><span class="pre">data</span></code> is a <span class="green">String</span>, a “fixed”
<span class="green">Buffer</span> is returned.</p>
<p>See <a class="reference external" href="https://wiki.duktape.org/howtobuffers2x">Duktape documentation</a> for
more information on different types of <span class="green">Buffers</span>.</p>
<dl class="simple">
<dt>Return Value:</dt><dd><p><span class="green">Buffer</span>.  Contents of <span class="green">String</span>/<span class="green">Buffer</span> copied to a new <span class="green">Buffer</span> <span class="green">Object</span>.</p>
</dd>
</dl>
</div>
<div class="section" id="buffertostring">
<h4>bufferToString<a class="headerlink" href="#buffertostring" title="Permalink to this headline">¶</a></h4>
<p>Performs a 1:1 copy of the contents of a <span class="green">Buffer</span> to a <span class="green">String</span>.</p>
<p>See <code class="docutils literal notranslate"><span class="pre">duk_buffer_to_string()</span></code> in the
<a class="reference external" href="https://wiki.duktape.org/howtobuffers2x#buffer-to-string-conversion">Duktape documentation</a></p>
<p>Usage:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">str</span> <span class="o">=</span> <span class="nx">rampart</span><span class="p">.</span><span class="nx">utils</span><span class="p">.</span><span class="nx">bufferToString</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
</pre></div>
</div>
<p>Where data is a <span class="green">Buffer</span> <span class="green">Object</span>.</p>
<dl class="simple">
<dt>Return Value:</dt><dd><p><span class="green">String</span>.  Contents of <span class="green">Buffer</span> copied to a new <span class="green">String</span>.</p>
</dd>
</dl>
</div>
<div class="section" id="objecttoquery">
<h4>objectToQuery<a class="headerlink" href="#objecttoquery" title="Permalink to this headline">¶</a></h4>
<p>Convert an <span class="green">Object</span> of key/value pairs to a <span class="green">String</span> suitable for use as a query
string in an HTTP request.</p>
<p>Usage:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">qs</span> <span class="o">=</span> <span class="nx">rampart</span><span class="p">.</span><span class="nx">utils</span><span class="p">.</span><span class="nx">objectToQuery</span><span class="p">(</span><span class="nx">kvObj</span> <span class="p">[,</span> <span class="nx">arrayOpt</span><span class="p">]);</span>
</pre></div>
</div>
<p>Where <code class="docutils literal notranslate"><span class="pre">kvObj</span></code> is an <span class="green">Object</span> containing the key/value pairs and <code class="docutils literal notranslate"><span class="pre">arrayOpt</span></code>
controls how <span class="green">Array</span> values are treated, and is
one of the following:</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">repeat</span></code> - default value if not specified.  Repeat the key in the
query string with each value from the array.  Example:
<code class="docutils literal notranslate"><span class="pre">{key1:</span> <span class="pre">[&quot;val1&quot;,</span> <span class="pre">&quot;val2&quot;]}</span></code> becomes <code class="docutils literal notranslate"><span class="pre">key1=val1&amp;key1=val2</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">bracket</span></code> - similar to repeat, except url encoded <code class="docutils literal notranslate"><span class="pre">[]</span></code> is appended
to the keys.  Example: <code class="docutils literal notranslate"><span class="pre">{key1:</span> <span class="pre">[&quot;val1&quot;,</span> <span class="pre">&quot;val2&quot;]}</span></code> becomes
<code class="docutils literal notranslate"><span class="pre">key1%5B%5D=val1&amp;key1%5B%5D=val2</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">comma</span></code> - One key with corresponding values separated by a <code class="docutils literal notranslate"><span class="pre">,</span></code>
(comma).  Example: <code class="docutils literal notranslate"><span class="pre">{key1:</span> <span class="pre">[&quot;val1&quot;,</span> <span class="pre">&quot;val2&quot;]}</span></code> becomes
<code class="docutils literal notranslate"><span class="pre">key1=val1,val2</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">json</span></code> - encode array as JSON.  Example:
<code class="docutils literal notranslate"><span class="pre">{key1:</span> <span class="pre">[&quot;val1&quot;,</span> <span class="pre">&quot;val2&quot;]}</span></code> becomes
<code class="docutils literal notranslate"><span class="pre">key1=%5b%22val1%22%2c%22val2%22%5d</span></code>.</p></li>
</ul>
</div></blockquote>
<p>Note that the values <code class="docutils literal notranslate"><span class="pre">null</span></code> and <code class="docutils literal notranslate"><span class="pre">undefined</span></code> will be translated as the
<span class="green">Strings</span> <code class="docutils literal notranslate"><span class="pre">&quot;null&quot;</span></code> and <code class="docutils literal notranslate"><span class="pre">&quot;undefined&quot;</span></code> respectively.  Also values which
themselves are <span class="green">Objects</span> will be converted to JSON.</p>
</div>
<div class="section" id="querytoobject">
<h4>queryToObject<a class="headerlink" href="#querytoobject" title="Permalink to this headline">¶</a></h4>
<p>Convert a query string to an <span class="green">Object</span>.  Reverses the process, with caveats, of
<a class="reference internal" href="#objecttoquery">objectToQuery</a>().</p>
<p>Usage:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">kvObj</span> <span class="o">=</span> <span class="nx">rampart</span><span class="p">.</span><span class="nx">utils</span><span class="p">.</span><span class="nx">queryToObject</span><span class="p">(</span><span class="nx">qs</span><span class="p">);</span>
</pre></div>
</div>
<p>Caveats:</p>
<ul class="simple">
<li><p>All primitive values will be converted to <span class="green">Strings</span>.</p></li>
<li><p>If <code class="docutils literal notranslate"><span class="pre">repeat</span></code> or <code class="docutils literal notranslate"><span class="pre">bracket</span></code> was used to create the
query string, all values will be returned as strings (even if an <span class="green">Array</span> of
<span class="green">Numbers</span> was given to <a class="reference internal" href="#objecttoquery">objectToQuery</a>().</p></li>
<li><p>If <code class="docutils literal notranslate"><span class="pre">comma</span></code> was used to create the query string, no separation of comma
separated values will occur and the entire value will be returned as a <span class="green">String</span>.</p></li>
<li><p>If <code class="docutils literal notranslate"><span class="pre">json</span></code> was used, numeric values will be preserves as <span class="green">Numbers</span>.</p></li>
</ul>
<p>Example:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">obj</span><span class="o">=</span> <span class="p">{</span>
  <span class="nx">key1</span><span class="o">:</span> <span class="kc">null</span><span class="p">,</span>
  <span class="nx">key2</span><span class="o">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">],</span>
  <span class="nx">key3</span><span class="o">:</span> <span class="p">[</span><span class="s2">&quot;val1&quot;</span><span class="p">,</span><span class="s2">&quot;val2&quot;</span><span class="p">]</span>
<span class="p">}</span>

<span class="kd">var</span> <span class="nx">type</span> <span class="o">=</span> <span class="p">[</span> <span class="s2">&quot;repeat&quot;</span><span class="p">,</span> <span class="s2">&quot;bracket&quot;</span><span class="p">,</span> <span class="s2">&quot;comma&quot;</span><span class="p">,</span> <span class="s2">&quot;json&quot;</span> <span class="p">];</span>

<span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="nx">i</span><span class="o">&lt;</span><span class="mi">4</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">qs</span> <span class="o">=</span> <span class="nx">rampart</span><span class="p">.</span><span class="nx">utils</span><span class="p">.</span><span class="nx">objectToQuery</span><span class="p">(</span><span class="nx">obj</span><span class="p">,</span> <span class="nx">type</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span> <span class="p">);</span>
    <span class="kd">var</span> <span class="nx">qsobj</span> <span class="o">=</span> <span class="nx">rampart</span><span class="p">.</span><span class="nx">utils</span><span class="p">.</span><span class="nx">queryToObject</span><span class="p">(</span><span class="nx">qs</span><span class="p">);</span>
    <span class="nx">rampart</span><span class="p">.</span><span class="nx">utils</span><span class="p">.</span><span class="nx">printf</span><span class="p">(</span><span class="s2">&quot;qToO(\n     &#39;%s&#39;\n    ) = \n%s\n&quot;</span><span class="p">,</span> <span class="nx">qs</span><span class="p">,</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">qsobj</span><span class="p">,</span><span class="kc">null</span><span class="p">,</span><span class="mi">3</span><span class="p">));</span>
<span class="p">}</span>

<span class="cm">/* expected output:</span>
<span class="cm">qToO(</span>
<span class="cm">     &#39;key1=null&amp;key2=1&amp;key2=2&amp;key2=3&amp;key3=val1&amp;key3=val2&#39;</span>
<span class="cm">    ) =</span>
<span class="cm">{</span>
<span class="cm">   &quot;key1&quot;: &quot;null&quot;,</span>
<span class="cm">   &quot;key2&quot;: [</span>
<span class="cm">      &quot;1&quot;,</span>
<span class="cm">      &quot;2&quot;,</span>
<span class="cm">      &quot;3&quot;</span>
<span class="cm">   ],</span>
<span class="cm">   &quot;key3&quot;: [</span>
<span class="cm">      &quot;val1&quot;,</span>
<span class="cm">      &quot;val2&quot;</span>
<span class="cm">   ]</span>
<span class="cm">}</span>
<span class="cm">qToO(</span>

<span class="cm">&#39;key1=null&amp;key2%5B%5D=1&amp;key2%5B%5D=2&amp;key2%5B%5D=3&amp;key3%5B%5D=val1&amp;key3%5B%5D=val2&#39;</span>
<span class="cm">    ) =</span>
<span class="cm">{</span>
<span class="cm">   &quot;key1&quot;: &quot;null&quot;,</span>
<span class="cm">   &quot;key2&quot;: [</span>
<span class="cm">      &quot;1&quot;,</span>
<span class="cm">      &quot;2&quot;,</span>
<span class="cm">      &quot;3&quot;</span>
<span class="cm">   ],</span>
<span class="cm">   &quot;key3&quot;: [</span>
<span class="cm">      &quot;val1&quot;,</span>
<span class="cm">      &quot;val2&quot;</span>
<span class="cm">   ]</span>
<span class="cm">}</span>
<span class="cm">qToO(</span>
<span class="cm">     &#39;key1=null&amp;key2=1,2,3&amp;key3=val1,val2&#39;</span>
<span class="cm">    ) =</span>
<span class="cm">{</span>
<span class="cm">   &quot;key1&quot;: &quot;null&quot;,</span>
<span class="cm">   &quot;key2&quot;: &quot;1,2,3&quot;,</span>
<span class="cm">   &quot;key3&quot;: &quot;val1,val2&quot;</span>
<span class="cm">}</span>
<span class="cm">qToO(</span>
<span class="cm">     &#39;key1=null&amp;key2=%5b1%2c2%2c3%5d&amp;key3=%5b%22val1%22%2c%22val2%22%5d&#39;</span>
<span class="cm">    ) =</span>
<span class="cm">{</span>
<span class="cm">   &quot;key1&quot;: &quot;null&quot;,</span>
<span class="cm">   &quot;key2&quot;: [</span>
<span class="cm">      1,</span>
<span class="cm">      2,</span>
<span class="cm">      3</span>
<span class="cm">   ],</span>
<span class="cm">   &quot;key3&quot;: [</span>
<span class="cm">      &quot;val1&quot;,</span>
<span class="cm">      &quot;val2&quot;</span>
<span class="cm">   ]</span>
<span class="cm">}</span>
<span class="cm">*/</span>
</pre></div>
</div>
</div>
<div class="section" id="readfile">
<h4>readFile<a class="headerlink" href="#readfile" title="Permalink to this headline">¶</a></h4>
<p>Read the contents of a file.</p>
<p>Usage:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">contents</span> <span class="o">=</span> <span class="nx">rampart</span><span class="p">.</span><span class="nx">utils</span><span class="p">.</span><span class="nx">readFile</span><span class="p">({</span>
   <span class="nx">file</span><span class="o">:</span> <span class="nx">filename</span>
   <span class="p">[,</span> <span class="nx">offset</span><span class="o">:</span> <span class="nx">offsetPos</span><span class="p">]</span>
   <span class="p">[,</span> <span class="nx">length</span><span class="o">:</span> <span class="nx">rLength</span><span class="p">]</span>
   <span class="p">[,</span> <span class="nx">retString</span><span class="o">:</span> <span class="nx">return_str</span><span class="p">]</span>
<span class="p">});</span>

<span class="cm">/* or */</span>

<span class="kd">var</span> <span class="nx">contents</span> <span class="o">=</span> <span class="nx">rampart</span><span class="p">.</span><span class="nx">utils</span><span class="p">.</span><span class="nx">readFile</span><span class="p">(</span><span class="nx">filename</span> <span class="p">[,</span> <span class="nx">offsetPos</span> <span class="p">[,</span> <span class="nx">rLength</span><span class="p">]]</span> <span class="p">[,</span> <span class="nx">return_str</span><span class="p">]);</span>
</pre></div>
</div>
<p>Where values <code class="docutils literal notranslate"><span class="pre">filename</span></code> and optional values
<code class="docutils literal notranslate"><span class="pre">offsetPos</span></code>, <code class="docutils literal notranslate"><span class="pre">rLength</span></code> and/or <code class="docutils literal notranslate"><span class="pre">return_str</span></code> are:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 13%" />
<col style="width: 19%" />
<col style="width: 68%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Argument</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>filename</p></td>
<td><p><span class="green">String</span></p></td>
<td><p>Path to the file to be read</p></td>
</tr>
<tr class="row-odd"><td rowspan="2"><p>offsetPos</p></td>
<td rowspan="2"><p><span class="green">Number</span></p></td>
<td><p>If positive, start position to read from beginning of file.</p></td>
</tr>
<tr class="row-even"><td><p>If negative, start position to read from end of file.</p></td>
</tr>
<tr class="row-odd"><td rowspan="2"><p>rLength</p></td>
<td rowspan="2"><p><span class="green">Number</span></p></td>
<td><p>If greater than zero, amount in bytes to be read.</p></td>
</tr>
<tr class="row-even"><td><p>If 0 or negative, position from end of file to stop reading.</p></td>
</tr>
<tr class="row-odd"><td rowspan="2"><p>return_str</p></td>
<td rowspan="2"><p><span class="green">Boolean</span></p></td>
<td><p>If not set, or <code class="docutils literal notranslate"><span class="pre">false</span></code>, return a <span class="green">Buffer</span>.</p></td>
</tr>
<tr class="row-even"><td><p>If <code class="docutils literal notranslate"><span class="pre">true</span></code>, return contents as a <span class="green">String</span>.
May be truncated if file contains null characters.</p></td>
</tr>
</tbody>
</table>
<dl class="simple">
<dt>Return Value:</dt><dd><p><span class="green">Buffer</span> or <span class="green">String</span>.  The contents of the file.</p>
</dd>
</dl>
<p>Example:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">rampart</span><span class="p">.</span><span class="nx">utils</span><span class="p">.</span><span class="nx">fprintf</span><span class="p">(</span><span class="s2">&quot;/tmp/file.txt&quot;</span><span class="p">,</span><span class="s2">&quot;This is a text file\n&quot;</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">txt</span> <span class="o">=</span> <span class="nx">rampart</span><span class="p">.</span><span class="nx">utils</span><span class="p">.</span><span class="nx">readFile</span><span class="p">({</span>
   <span class="nx">filename</span><span class="o">:</span>  <span class="s2">&quot;/tmp/file.txt&quot;</span><span class="p">,</span>
   <span class="nx">offset</span><span class="o">:</span>    <span class="mi">10</span><span class="p">,</span>
   <span class="nx">length</span><span class="o">:</span>    <span class="o">-</span><span class="mi">6</span><span class="p">,</span>
   <span class="nx">retString</span><span class="o">:</span> <span class="kc">true</span>
<span class="p">});</span>

<span class="cm">/* or var txt = rampart.utils.readFile(&quot;/tmp/file.txt&quot;, 10, -6, true); */</span>

<span class="nx">rampart</span><span class="p">.</span><span class="nx">utils</span><span class="p">.</span><span class="nx">printf</span><span class="p">(</span><span class="s2">&quot;&#39;%s&#39;\n&quot;</span><span class="p">,</span> <span class="nx">txt</span><span class="p">);</span>

<span class="cm">/* expected output:</span>
<span class="cm">&#39;text&#39;</span>
<span class="cm">*/</span>
</pre></div>
</div>
</div>
<div class="section" id="trim">
<h4>trim<a class="headerlink" href="#trim" title="Permalink to this headline">¶</a></h4>
<p>Remove whitespace characters from beginning and end of a <span class="green">String</span>.</p>
<p>Usage:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">trimmed</span> <span class="o">=</span> <span class="nx">rampart</span><span class="p">.</span><span class="nx">utils</span><span class="p">.</span><span class="nx">trim</span><span class="p">(</span><span class="nx">str</span><span class="p">);</span>
</pre></div>
</div>
<p>Where <code class="docutils literal notranslate"><span class="pre">str</span></code> is a <span class="green">String</span>.</p>
<dl class="simple">
<dt>Return Value:</dt><dd><p><span class="green">String</span>. <code class="docutils literal notranslate"><span class="pre">str</span></code> with whitespace removed from beginning and end.</p>
</dd>
</dl>
<p>Example:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">str</span> <span class="o">=</span> <span class="s2">&quot;\n a line of text \n&quot;</span><span class="p">;</span>
<span class="nx">rampart</span><span class="p">.</span><span class="nx">utils</span><span class="p">.</span><span class="nx">printf</span><span class="p">(</span><span class="s2">&quot;&#39;%s&#39;&quot;</span><span class="p">,</span> <span class="nx">rampart</span><span class="p">.</span><span class="nx">utils</span><span class="p">.</span><span class="nx">trim</span><span class="p">(</span><span class="nx">str</span><span class="p">));</span>
<span class="cm">/* expected output:</span>
<span class="cm">&#39;a line of text&#39;</span>
<span class="cm">*/</span>
</pre></div>
</div>
</div>
<div class="section" id="readline">
<h4>readLine<a class="headerlink" href="#readline" title="Permalink to this headline">¶</a></h4>
<p>Read a text file line-by-line.</p>
<p>Usage:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">rl</span> <span class="o">=</span> <span class="nx">readLine</span><span class="p">(</span><span class="nx">file</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">line</span><span class="o">=</span><span class="nx">rl</span><span class="p">.</span><span class="nx">next</span><span class="p">();</span>
</pre></div>
</div>
<p>Where <code class="docutils literal notranslate"><span class="pre">file</span></code> is a <span class="green">String</span> (name of file to be read) and return <span class="green">Object</span>
contains the property <code class="docutils literal notranslate"><span class="pre">next</span></code>, a function to retrieve and return the next
line of text in the file.</p>
<dl class="simple">
<dt>Return Value:</dt><dd><p><span class="green">Object</span>.  Property <code class="docutils literal notranslate"><span class="pre">next</span></code> of the return <span class="green">Object</span> is a function which
retrieves and returns the next line of text in the file.  After the last
line of <code class="docutils literal notranslate"><span class="pre">file</span></code> is returned, subsequent calls to <code class="docutils literal notranslate"><span class="pre">next</span></code> will return
<code class="docutils literal notranslate"><span class="pre">null</span></code>.</p>
</dd>
</dl>
<p>Example:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">rl</span> <span class="o">=</span> <span class="nx">rampart</span><span class="p">.</span><span class="nx">utils</span><span class="p">.</span><span class="nx">readLine</span><span class="p">(</span><span class="s2">&quot;./myfile.txt&quot;</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">line</span><span class="p">,</span> <span class="nx">firstline</span><span class="p">,</span> <span class="nx">lastline</span><span class="p">;</span>

<span class="k">while</span> <span class="p">(</span> <span class="p">(</span><span class="nx">line</span><span class="o">=</span><span class="nx">rl</span><span class="p">.</span><span class="nx">next</span><span class="p">())</span> <span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span><span class="p">(</span><span class="nx">i</span><span class="o">==</span><span class="mi">0</span><span class="p">)</span>
        <span class="nx">firstline</span> <span class="o">=</span> <span class="nx">rampart</span><span class="p">.</span><span class="nx">utils</span><span class="p">.</span><span class="nx">trim</span><span class="p">(</span><span class="nx">line</span><span class="p">);</span>
    <span class="nx">i</span><span class="o">++</span><span class="p">;</span>
    <span class="nx">lastline</span> <span class="o">=</span> <span class="nx">line</span><span class="p">;</span>
<span class="p">}</span>
<span class="nx">rampart</span><span class="p">.</span><span class="nx">utils</span><span class="p">.</span><span class="nx">printf</span><span class="p">(</span><span class="s2">&quot;%s\n%s\n&quot;</span><span class="p">,</span> <span class="nx">firstline</span><span class="p">,</span> <span class="nx">lastline</span><span class="p">);</span>

<span class="cm">/* expected output: first and last line of file &quot;./myfile.txt&quot; */</span>
</pre></div>
</div>
</div>
<div class="section" id="stat">
<h4>stat<a class="headerlink" href="#stat" title="Permalink to this headline">¶</a></h4>
<p>Return information on a file.</p>
<p>Usage:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">st</span> <span class="o">=</span> <span class="nx">stat</span><span class="p">(</span><span class="nx">file</span><span class="p">);</span>
</pre></div>
</div>
<p>Where <code class="docutils literal notranslate"><span class="pre">file</span></code> is a <span class="green">String</span> (name of file).</p>
<dl class="simple">
<dt>Return Value:</dt><dd><p><span class="green">Boolean</span>/<span class="green">Object</span>. <code class="docutils literal notranslate"><span class="pre">false</span></code> if file does not exist.  Otherwise an <span class="green">Object</span> with the following
properties:</p>
</dd>
</dl>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
   <span class="s2">&quot;dev&quot;</span><span class="o">:</span>     <span class="nb">Number</span><span class="p">,</span>
   <span class="s2">&quot;ino&quot;</span><span class="o">:</span>     <span class="nb">Number</span><span class="p">,</span>
   <span class="s2">&quot;mode&quot;</span><span class="o">:</span>    <span class="nb">Number</span><span class="p">,</span>
   <span class="s2">&quot;nlink&quot;</span><span class="o">:</span>   <span class="nb">Number</span><span class="p">,</span>
   <span class="s2">&quot;uid&quot;</span><span class="o">:</span>     <span class="nb">Number</span><span class="p">,</span>
   <span class="s2">&quot;gid&quot;</span><span class="o">:</span>     <span class="nb">Number</span><span class="p">,</span>
   <span class="s2">&quot;rdev&quot;</span><span class="o">:</span>    <span class="nb">Number</span><span class="p">,</span>
   <span class="s2">&quot;size&quot;</span><span class="o">:</span>    <span class="nb">Number</span><span class="p">,</span>
   <span class="s2">&quot;blksize&quot;</span><span class="o">:</span> <span class="nb">Number</span><span class="p">,</span>
   <span class="s2">&quot;blocks&quot;</span><span class="o">:</span>  <span class="nb">Number</span><span class="p">,</span>
   <span class="s2">&quot;atime&quot;</span><span class="o">:</span>   <span class="nb">Date</span><span class="p">,</span>
   <span class="s2">&quot;mtime&quot;</span><span class="o">:</span>   <span class="nb">Date</span><span class="p">,</span>
   <span class="s2">&quot;ctime&quot;</span><span class="o">:</span>   <span class="nb">Date</span>
   <span class="s2">&quot;isBlockDevice&quot;</span><span class="o">:</span>     <span class="kd">function</span><span class="p">,</span>
   <span class="s2">&quot;isCharacterDevice&quot;</span><span class="o">:</span> <span class="kd">function</span><span class="p">,</span>
   <span class="s2">&quot;isDirectory&quot;</span><span class="o">:</span>       <span class="kd">function</span><span class="p">,</span>
   <span class="s2">&quot;isFIFO&quot;</span><span class="o">:</span>            <span class="kd">function</span><span class="p">,</span>
   <span class="s2">&quot;isFile&quot;</span><span class="o">:</span>            <span class="kd">function</span><span class="p">,</span>
   <span class="s2">&quot;isSocket&quot;</span><span class="o">:</span>          <span class="kd">function</span>

<span class="p">}</span>
</pre></div>
</div>
<p>See <a class="reference external" href="https://man7.org/linux/man-pages/man2/stat.2.html">stat (2)</a> for
meaning of each property.  The <code class="docutils literal notranslate"><span class="pre">is*()</span></code> functions return <code class="docutils literal notranslate"><span class="pre">true</span></code> if the
corresponding file property is true.</p>
<p>Example:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">st</span> <span class="o">=</span> <span class="nx">rampart</span><span class="p">.</span><span class="nx">utils</span><span class="p">.</span><span class="nx">stat</span><span class="p">(</span><span class="s2">&quot;/tmp/file.txt&quot;</span><span class="p">);</span>

<span class="k">if</span><span class="p">(</span><span class="nx">st</span><span class="p">)</span> <span class="p">{</span>
   <span class="cm">/* print file mode as octal number */</span>
   <span class="nx">rampart</span><span class="p">.</span><span class="nx">utils</span><span class="p">.</span><span class="nx">printf</span><span class="p">(</span><span class="s2">&quot;%o\n&quot;</span><span class="p">,</span> <span class="nx">st</span><span class="p">.</span><span class="nx">mode</span> <span class="o">&amp;</span> <span class="mi">0777</span><span class="p">)</span>
<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
   <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;file /tmp.file.txt does not exist&quot;</span><span class="p">);</span>
<span class="p">}</span>
<span class="cm">/* expected output: 644 */</span>
</pre></div>
</div>
</div>
<div class="section" id="lstat">
<h4>lstat<a class="headerlink" href="#lstat" title="Permalink to this headline">¶</a></h4>
<p>Same as <a class="reference internal" href="#stat">stat</a>() except if <code class="docutils literal notranslate"><span class="pre">file</span></code> is a link, return information about the link itself.</p>
<dl class="simple">
<dt>Return Value:</dt><dd><p>Same as <a class="reference internal" href="#stat">stat</a>() with the addition of the property/function
<code class="docutils literal notranslate"><span class="pre">isSymbolicLink()</span></code> to test whether the file is a symbolic link.</p>
</dd>
</dl>
</div>
<div class="section" id="exec">
<h4>exec<a class="headerlink" href="#exec" title="Permalink to this headline">¶</a></h4>
<p>Run an executable file.</p>
<p>Usage:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">ret</span> <span class="o">=</span> <span class="nx">rampart</span><span class="p">.</span><span class="nx">utils</span><span class="p">.</span><span class="nx">exec</span><span class="p">(</span><span class="nx">command</span> <span class="p">[,</span> <span class="nx">options</span><span class="p">]</span> <span class="p">[,</span><span class="nx">arg1</span><span class="p">,</span> <span class="nx">arg2</span><span class="p">,</span> <span class="p">...,</span> <span class="nx">argn</span><span class="p">]</span> <span class="p">);</span>
</pre></div>
</div>
<p>Where:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">command</span></code> - <span class="green">String</span>. An absolute path to an executable or the name of
an executable that may be found in the current <code class="docutils literal notranslate"><span class="pre">PATH</span></code> environment variable.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">options</span></code> - <span class="green">Object</span>. Containing the following properties:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">timeout</span></code> - <span class="green">Number</span>: Maximum amount of time in milliseconds before
the process is automatically killed.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">killSignal</span></code> - <span class="green">Number</span>. If timeout is reached, use this signal</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">background</span></code> - <span class="green">Boolean</span>.  Whether to execute detached and return
immediately.  <code class="docutils literal notranslate"><span class="pre">stdout</span></code> and <code class="docutils literal notranslate"><span class="pre">stderr</span></code> below will be set to <code class="docutils literal notranslate"><span class="pre">null</span></code>.</p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">argn</span></code> - <span class="green">String</span>/<span class="green">Number</span>/<span class="green">Object</span>/<span class="green">Boolean</span>/<span class="green">Null</span> - Arguments to be passed to
<code class="docutils literal notranslate"><span class="pre">command</span></code>.  Non-Strings are converted to a <span class="green">String</span> (e.g. “true”, “null”,
“42” or for <span class="green">Object</span>, the equivalent of <code class="docutils literal notranslate"><span class="pre">JSON.stringify(obj)</span></code>).</p></li>
</ul>
<dl class="simple">
<dt>Return Value:</dt><dd><p><span class="green">Object</span>.  Properties as follows:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">stdout</span></code> - <span class="green">String</span>. Output of command if <code class="docutils literal notranslate"><span class="pre">background</span></code> is not set <code class="docutils literal notranslate"><span class="pre">false</span></code>.
Otherwise <code class="docutils literal notranslate"><span class="pre">null</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">stderr</span></code> - <span class="green">String</span>. stderr output of command if <code class="docutils literal notranslate"><span class="pre">background</span></code> is not set <code class="docutils literal notranslate"><span class="pre">false</span></code>.
Otherwise <code class="docutils literal notranslate"><span class="pre">null</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">exitStatus</span></code> - <span class="green">Number</span>.  The returned exit status of the command.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">timedOut</span></code> - <span class="green">Boolean</span>.  Set true if program was killed after
<code class="docutils literal notranslate"><span class="pre">timeout</span></code> milliseconds elapsed.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">pid</span></code> - <span class="green">Number</span>. Process id of the executed command.</p></li>
</ul>
</dd>
</dl>
</div>
<div class="section" id="shell">
<h4>shell<a class="headerlink" href="#shell" title="Permalink to this headline">¶</a></h4>
<p>Execute <span class="green">String</span> in a bash shell. Equivalent to
<code class="docutils literal notranslate"><span class="pre">rampart.utils.exec(&quot;bash&quot;,</span> <span class="pre">&quot;-c&quot;,</span> <span class="pre">shellcmd);</span></code>.</p>
<p>Usage:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">ret</span> <span class="o">=</span> <span class="nx">rampart</span><span class="p">.</span><span class="nx">utils</span><span class="p">.</span><span class="nx">shell</span><span class="p">(</span><span class="nx">shellcmd</span><span class="p">);</span>
</pre></div>
</div>
<p>Where <code class="docutils literal notranslate"><span class="pre">shellcmd</span></code> is a <span class="green">String</span> containing the command and arguments to be
passed to bash.</p>
<dl class="simple">
<dt>Return Value:</dt><dd><p>Same as <a class="reference internal" href="#exec">exec</a>().</p>
</dd>
</dl>
<p>Example:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">ret</span> <span class="o">=</span> <span class="nx">rampart</span><span class="p">.</span><span class="nx">utils</span><span class="p">.</span><span class="nx">shell</span><span class="p">(</span><span class="s1">&#39;echo -n &quot;hello&quot;&#39;</span><span class="p">);</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">ret</span><span class="p">,</span> <span class="kc">null</span><span class="p">,</span> <span class="mi">3</span><span class="p">));</span>

<span class="cm">/* expected output:</span>
<span class="cm">{</span>
<span class="cm">   &quot;stdout&quot;: &quot;hello&quot;,</span>
<span class="cm">   &quot;stderr&quot;: &quot;&quot;,</span>
<span class="cm">   &quot;timedOut&quot;: false,</span>
<span class="cm">   &quot;exitStatus&quot;: 0,</span>
<span class="cm">   &quot;pid&quot;: 24658</span>
<span class="cm">}</span>
<span class="cm">*/</span>
</pre></div>
</div>
</div>
<div class="section" id="kill">
<h4>kill<a class="headerlink" href="#kill" title="Permalink to this headline">¶</a></h4>
<p>Terminate a process or send a signal.</p>
<p>Usage:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">ret</span> <span class="o">=</span> <span class="nx">rampart</span><span class="p">.</span><span class="nx">utils</span><span class="p">.</span><span class="nx">kill</span><span class="p">(</span><span class="nx">pid</span> <span class="p">[,</span> <span class="nx">signal</span><span class="p">]);</span>
</pre></div>
</div>
<p>Where <code class="docutils literal notranslate"><span class="pre">pid</span></code> is a <span class="green">Number</span>, the process id of process to be sent a signal and
<code class="docutils literal notranslate"><span class="pre">signal</span></code> is a <span class="green">Number</span>, the signal to send.  If <code class="docutils literal notranslate"><span class="pre">signal</span></code> is not specified,
<code class="docutils literal notranslate"><span class="pre">15</span></code> (<code class="docutils literal notranslate"><span class="pre">SIGTERM</span></code>) is used.  See manual page for kill(1) for a list of
signals, which may vary by platform.  Setting <code class="docutils literal notranslate"><span class="pre">signal</span></code> to <code class="docutils literal notranslate"><span class="pre">0</span></code> sends no
signal, but checks for the existence of the process identified by <code class="docutils literal notranslate"><span class="pre">pid</span></code>.</p>
<dl class="simple">
<dt>Return Value:</dt><dd><p><span class="green">Boolean</span>.  <code class="docutils literal notranslate"><span class="pre">true</span></code> if signal successfully sent.  <code class="docutils literal notranslate"><span class="pre">false</span></code> if there was
an error or process does not exist.</p>
</dd>
</dl>
<p>Example:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">ret</span> <span class="o">=</span> <span class="nx">rampart</span><span class="p">.</span><span class="nx">utils</span><span class="p">.</span><span class="nx">exec</span><span class="p">(</span><span class="s2">&quot;sleep&quot;</span><span class="p">,</span> <span class="s2">&quot;100&quot;</span><span class="p">,</span> <span class="p">{</span><span class="nx">background</span><span class="o">:</span><span class="kc">true</span><span class="p">});</span>
<span class="kd">var</span> <span class="nx">pid</span><span class="o">=</span><span class="nx">ret</span><span class="p">.</span><span class="nx">pid</span><span class="p">;</span>

<span class="k">if</span> <span class="p">(</span><span class="nx">rampart</span><span class="p">.</span><span class="nx">utils</span><span class="p">.</span><span class="nx">kill</span><span class="p">(</span><span class="nx">pid</span><span class="p">,</span><span class="mi">0</span><span class="p">))</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;process is still running&quot;</span><span class="p">);</span>
    <span class="nx">rampart</span><span class="p">.</span><span class="nx">utils</span><span class="p">.</span><span class="nx">kill</span><span class="p">(</span><span class="nx">pid</span><span class="p">);</span>
    <span class="k">if</span><span class="p">(</span> <span class="nx">rampart</span><span class="p">.</span><span class="nx">utils</span><span class="p">.</span><span class="nx">kill</span><span class="p">(</span><span class="nx">pid</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span> <span class="p">)</span>
       <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;and now is dead&quot;</span><span class="p">);</span>
<span class="p">}</span> <span class="k">else</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;not running&quot;</span><span class="p">);</span>
<span class="cm">/* expected output:</span>
<span class="cm">   process is still running</span>
<span class="cm">   and now is dead</span>
<span class="cm">*/</span>
</pre></div>
</div>
</div>
<div class="section" id="mkdir">
<h4>mkdir<a class="headerlink" href="#mkdir" title="Permalink to this headline">¶</a></h4>
<p>Create a directory.</p>
<p>Usage:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">rampart</span><span class="p">.</span><span class="nx">utils</span><span class="p">.</span><span class="nx">mkdir</span><span class="p">(</span><span class="nx">path</span> <span class="p">[,</span> <span class="nx">mode</span><span class="p">]);</span>
</pre></div>
</div>
<p>Where <code class="docutils literal notranslate"><span class="pre">path</span></code> is a <span class="green">String</span>, the directory to be created and <code class="docutils literal notranslate"><span class="pre">mode</span></code> is a
<span class="green">Number</span> or <span class="green">String</span>, the octal permissions mode. Any parent directories which
do not exist will also be created.  Throws error if lacking permissions or
if another error encountered.</p>
<p>Note that <code class="docutils literal notranslate"><span class="pre">mode</span></code> is normally given as an octal.  As such it can be, e.g.,
<code class="docutils literal notranslate"><span class="pre">0755</span></code> (octal number) or <code class="docutils literal notranslate"><span class="pre">&quot;755&quot;</span></code> (<span class="green">String</span> representation of an octal
number), but <code class="docutils literal notranslate"><span class="pre">755</span></code>, as a decimal number may not work as intended.</p>
<dl class="simple">
<dt>Return Value:</dt><dd><p><code class="docutils literal notranslate"><span class="pre">undefined</span></code>.</p>
</dd>
</dl>
</div>
<div class="section" id="rmdir">
<h4>rmdir<a class="headerlink" href="#rmdir" title="Permalink to this headline">¶</a></h4>
<p>Remove an empty directory.</p>
<p>Usage:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">rampart</span><span class="p">.</span><span class="nx">utils</span><span class="p">.</span><span class="nx">rmdir</span><span class="p">(</span><span class="nx">path</span> <span class="p">[,</span> <span class="nx">recurse</span><span class="p">]);</span>
</pre></div>
</div>
<p>Where <code class="docutils literal notranslate"><span class="pre">path</span></code> is a <span class="green">String</span>, the directory to be removed and <code class="docutils literal notranslate"><span class="pre">recurse</span></code> is an
optional <span class="green">Boolean</span>, which if <code class="docutils literal notranslate"><span class="pre">true</span></code>, parent directories explicitely present in
<code class="docutils literal notranslate"><span class="pre">path</span></code> will also be removed.  Throws an error if the directory cannot be
removed (.e.g., not empty or lacking permission).</p>
<dl class="simple">
<dt>Return Value:</dt><dd><p><code class="docutils literal notranslate"><span class="pre">undefined</span></code>.</p>
</dd>
</dl>
<p>Example:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="cm">/* make the following directories in the</span>
<span class="cm">   current working directory             */</span>
<span class="nx">rampart</span><span class="p">.</span><span class="nx">utils</span><span class="p">.</span><span class="nx">mkdir</span><span class="p">(</span><span class="s2">&quot;p1/p2/p3&quot;</span><span class="p">,</span><span class="mi">0755</span><span class="p">);</span>

<span class="cm">/* remove the directories recursively */</span>
<span class="nx">rampart</span><span class="p">.</span><span class="nx">utils</span><span class="p">.</span><span class="nx">rmdir</span><span class="p">(</span><span class="s2">&quot;p1/p2/p3&quot;</span><span class="p">,</span> <span class="kc">true</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="readdir">
<h4>readdir<a class="headerlink" href="#readdir" title="Permalink to this headline">¶</a></h4>
<p>Get listing of directory files.</p>
<p>Usage:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">files</span> <span class="o">=</span> <span class="nx">rampart</span><span class="p">.</span><span class="nx">utils</span><span class="p">.</span><span class="nx">readdir</span><span class="p">(</span><span class="nx">path</span> <span class="p">[,</span> <span class="nx">showhidden</span><span class="p">]);</span>
</pre></div>
</div>
<p>Where <code class="docutils literal notranslate"><span class="pre">path</span></code> is a <span class="green">String</span>, the directory whose content will be listed and
<code class="docutils literal notranslate"><span class="pre">showhidden</span></code> is a <span class="green">Boolean</span>, which if <code class="docutils literal notranslate"><span class="pre">true</span></code>, files or directories
beginning with <code class="docutils literal notranslate"><span class="pre">.</span></code> (hidden files) will be included in the return value.</p>
<dl class="simple">
<dt>Return Value:</dt><dd><p><span class="green">Array</span>.  An <span class="green">Array</span> of <span class="green">Strings</span>, each filename in the directory.</p>
</dd>
</dl>
</div>
<div class="section" id="copyfile">
<h4>copyFile<a class="headerlink" href="#copyfile" title="Permalink to this headline">¶</a></h4>
<p>Make a copy of a file.</p>
<p>Usage:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">rampart</span><span class="p">.</span><span class="nx">utils</span><span class="p">.</span><span class="nx">copyFile</span><span class="p">({</span><span class="nx">src</span><span class="o">:</span> <span class="nx">source</span><span class="p">,</span> <span class="nx">dest</span><span class="o">:</span> <span class="nx">destination</span> <span class="p">[,</span> <span class="nx">overwrite</span><span class="o">:</span> <span class="nx">overWrite</span><span class="p">]});</span>

<span class="cm">/* or */</span>

<span class="nx">rampart</span><span class="p">.</span><span class="nx">utils</span><span class="p">.</span><span class="nx">copyFile</span><span class="p">(</span><span class="nx">source</span><span class="p">,</span> <span class="nx">destination</span> <span class="p">[,</span> <span class="nx">overWrite</span><span class="p">]);</span>
</pre></div>
</div>
<p>Where <code class="docutils literal notranslate"><span class="pre">source</span></code> is a <span class="green">String</span>, the file to be copied, <code class="docutils literal notranslate"><span class="pre">destination</span></code> is a
<span class="green">String</span>, the name of the target file and optional <code class="docutils literal notranslate"><span class="pre">overWrite</span></code> is a <span class="green">Boolean</span>
which if <code class="docutils literal notranslate"><span class="pre">true</span></code> will overwrite <code class="docutils literal notranslate"><span class="pre">destination</span></code> if it exists.</p>
<dl class="simple">
<dt>Return Value:</dt><dd><p><code class="docutils literal notranslate"><span class="pre">undefined</span></code>.</p>
</dd>
</dl>
</div>
<div class="section" id="rmfile">
<h4>rmFile<a class="headerlink" href="#rmfile" title="Permalink to this headline">¶</a></h4>
<p>Delete a file.</p>
<p>Usage:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">rampart</span><span class="p">.</span><span class="nx">utils</span><span class="p">.</span><span class="nx">rmFile</span><span class="p">(</span><span class="nx">filename</span><span class="p">);</span>
</pre></div>
</div>
<p>Where <code class="docutils literal notranslate"><span class="pre">filename</span></code> is a <span class="green">String</span>, the name of the file to be removed.</p>
<dl class="simple">
<dt>Return Value:</dt><dd><p><code class="docutils literal notranslate"><span class="pre">undefined</span></code>.</p>
</dd>
</dl>
</div>
<div class="section" id="link">
<h4>link<a class="headerlink" href="#link" title="Permalink to this headline">¶</a></h4>
<p>Create a hard link.</p>
<p>Usage:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">rampart</span><span class="p">.</span><span class="nx">utils</span><span class="p">.</span><span class="nx">link</span><span class="p">({</span><span class="nx">src</span><span class="o">:</span> <span class="nx">sourceName</span><span class="p">,</span> <span class="nx">target</span><span class="o">:</span> <span class="nx">targetName</span><span class="p">});</span>

<span class="cm">/* or */</span>

<span class="nx">rampart</span><span class="p">.</span><span class="nx">utils</span><span class="p">.</span><span class="nx">link</span><span class="p">(</span><span class="nx">sourceName</span><span class="p">,</span> <span class="nx">targetName</span><span class="p">);</span>
</pre></div>
</div>
<p>Where <code class="docutils literal notranslate"><span class="pre">sourceName</span></code> is the existing file and <code class="docutils literal notranslate"><span class="pre">targetName</span></code> is the name of
the to-be-created link.</p>
<dl class="simple">
<dt>Return Value:</dt><dd><p><code class="docutils literal notranslate"><span class="pre">undefined</span></code>.</p>
</dd>
</dl>
</div>
<div class="section" id="symlink">
<h4>symlink<a class="headerlink" href="#symlink" title="Permalink to this headline">¶</a></h4>
<p>Create a soft (symbolic) link.</p>
<p>Usage:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">rampart</span><span class="p">.</span><span class="nx">utils</span><span class="p">.</span><span class="nx">symlink</span><span class="p">({</span><span class="nx">src</span><span class="o">:</span> <span class="nx">sourceName</span><span class="p">,</span> <span class="nx">target</span><span class="o">:</span> <span class="nx">targetName</span><span class="p">});</span>

<span class="cm">/* or */</span>

<span class="nx">rampart</span><span class="p">.</span><span class="nx">utils</span><span class="p">.</span><span class="nx">symlink</span><span class="p">(</span><span class="nx">sourceName</span><span class="p">,</span> <span class="nx">targetName</span><span class="p">);</span>
</pre></div>
</div>
<p>Where <code class="docutils literal notranslate"><span class="pre">sourceName</span></code> is the existing file and <code class="docutils literal notranslate"><span class="pre">targetName</span></code> is the name of
the to-be-created symlink.</p>
<dl class="simple">
<dt>Return Value:</dt><dd><p><code class="docutils literal notranslate"><span class="pre">undefined</span></code>.</p>
</dd>
</dl>
</div>
<div class="section" id="chmod">
<h4>chmod<a class="headerlink" href="#chmod" title="Permalink to this headline">¶</a></h4>
<p>Change the file mode bits of a file or directory.</p>
<p>Usage:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">rampart</span><span class="p">.</span><span class="nx">utils</span><span class="p">.</span><span class="nx">chmod</span><span class="p">(</span><span class="nx">path</span> <span class="p">[,</span> <span class="nx">mode</span><span class="p">]);</span>
</pre></div>
</div>
<p>Where <code class="docutils literal notranslate"><span class="pre">path</span></code> is a <span class="green">String</span>, the file or directory upon which to be operated
and <code class="docutils literal notranslate"><span class="pre">mode</span></code> is a <span class="green">Number</span> or <span class="green">String</span>, the octal permissions mode.  Any parent
directories which do not exist will also be created.  Throws error if
lacking permissions or if another error encountered.</p>
<p>Note that <code class="docutils literal notranslate"><span class="pre">mode</span></code> is normally given as an octal.  As such it can be, e.g.,
<code class="docutils literal notranslate"><span class="pre">0755</span></code> (octal number) or <code class="docutils literal notranslate"><span class="pre">&quot;755&quot;</span></code> (<span class="green">String</span> representation of an octal
number), but <code class="docutils literal notranslate"><span class="pre">755</span></code>, as a decimal number may not work as intended.</p>
<dl class="simple">
<dt>Return Value:</dt><dd><p><code class="docutils literal notranslate"><span class="pre">undefined</span></code>.</p>
</dd>
</dl>
</div>
<div class="section" id="touch">
<h4>touch<a class="headerlink" href="#touch" title="Permalink to this headline">¶</a></h4>
<p>Create an empty file, or update the access time stamp of an existing file.</p>
<p>Usage:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">rampart</span><span class="p">.</span><span class="nx">utils</span><span class="p">.</span><span class="nx">touch</span><span class="p">(</span><span class="nx">file</span><span class="p">);</span>

<span class="cm">/* or */</span>

<span class="nx">rampart</span><span class="p">.</span><span class="nx">utils</span><span class="p">.</span><span class="nx">touch</span><span class="p">({</span>
   <span class="nx">path</span><span class="o">:</span> <span class="nx">file</span>
   <span class="p">[,</span> <span class="nx">nocreate</span><span class="o">:</span> <span class="nx">noCreate</span><span class="p">]</span>
   <span class="p">[,</span> <span class="nx">setaccess</span><span class="o">:</span> <span class="nx">setAccess</span><span class="p">]</span>
   <span class="p">[,</span> <span class="nx">setmodify</span><span class="o">:</span> <span class="nx">setModify</span><span class="p">]</span>
   <span class="p">[,</span> <span class="nx">reference</span><span class="o">:</span> <span class="nx">referenceFile</span><span class="p">]</span>
<span class="p">});</span>
</pre></div>
</div>
<p>Where:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">file</span></code> is a <span class="green">String</span>, the name of the file upon which to operate,</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">noCreate</span></code> is a <span class="green">Boolean</span> (default <code class="docutils literal notranslate"><span class="pre">false</span></code>) which, if <code class="docutils literal notranslate"><span class="pre">true</span></code>
will only update the time stamp, and will no create non-existing
<code class="docutils literal notranslate"><span class="pre">file</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">setAccess</span></code> is a <span class="green">Boolean</span> (default <code class="docutils literal notranslate"><span class="pre">true</span></code>).  Whether to update
access time stamp of file.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">setModify</span></code> is a <span class="green">Boolean</span> (default <code class="docutils literal notranslate"><span class="pre">true</span></code>).  Whether to update
modification time stamp of file.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">referenceFile</span></code> is a <span class="green">String</span>.  If specified, the named file’s access and
modification time stamps will be used rather than the current time/date.</p></li>
</ul>
<dl class="simple">
<dt>Return Value:</dt><dd><p><code class="docutils literal notranslate"><span class="pre">undefined</span></code>.</p>
</dd>
</dl>
</div>
<div class="section" id="rename">
<h4>rename<a class="headerlink" href="#rename" title="Permalink to this headline">¶</a></h4>
<p>Rename or move a file.</p>
<p>Usage:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">rampart</span><span class="p">.</span><span class="nx">utils</span><span class="p">.</span><span class="nx">rename</span><span class="p">(</span><span class="nx">source</span><span class="p">,</span> <span class="nx">destination</span><span class="p">);</span>
</pre></div>
</div>
<p>Where <code class="docutils literal notranslate"><span class="pre">source</span></code> is a <span class="green">String</span>, the file to be renamed or moved, <code class="docutils literal notranslate"><span class="pre">destination</span></code> is a
<span class="green">String</span>, the name of the target file.</p>
<dl class="simple">
<dt>Return Value:</dt><dd><p><code class="docutils literal notranslate"><span class="pre">undefined</span></code>.</p>
</dd>
</dl>
</div>
<div class="section" id="sleep">
<h4>sleep<a class="headerlink" href="#sleep" title="Permalink to this headline">¶</a></h4>
<p>Pause execution for specified number of seconds.</p>
<p>Usage:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">rampart</span><span class="p">.</span><span class="nx">utils</span><span class="p">.</span><span class="nx">sleep</span><span class="p">(</span><span class="nx">seconds</span><span class="p">);</span>
</pre></div>
</div>
<p>Where <code class="docutils literal notranslate"><span class="pre">seconds</span></code> is a <span class="green">Number</span>.  Seconds may be a fraction of seconds.
Internally <a class="reference external" href="https://man7.org/linux/man-pages//man2/nanosleep.2.html">nanosleep</a>
is used.</p>
<p>Example:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="cm">/* wait 1.5 seconds */</span>
<span class="nx">rampart</span><span class="p">.</span><span class="nx">utils</span><span class="p">.</span><span class="nx">sleep</span><span class="p">(</span><span class="mf">1.5</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="getpid">
<h4>getpid<a class="headerlink" href="#getpid" title="Permalink to this headline">¶</a></h4>
<p>Get the process id of the current process.</p>
<p>Usage:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">pid</span> <span class="o">=</span> <span class="nx">rampart</span><span class="p">.</span><span class="nx">utils</span><span class="p">.</span><span class="nx">getpid</span><span class="p">();</span>
</pre></div>
</div>
<dl class="simple">
<dt>Return Value:</dt><dd><p><span class="green">Number</span>. The pid of the current process.</p>
</dd>
</dl>
</div>
<div class="section" id="getppid">
<h4>getppid<a class="headerlink" href="#getppid" title="Permalink to this headline">¶</a></h4>
<p>Get the process id of the parent of the current process.</p>
<p>Usage:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">ppid</span> <span class="o">=</span> <span class="nx">rampart</span><span class="p">.</span><span class="nx">utils</span><span class="p">.</span><span class="nx">getppid</span><span class="p">();</span>
</pre></div>
</div>
<dl class="simple">
<dt>Return Value:</dt><dd><p><span class="green">Number</span>. The pid of the parent process.</p>
</dd>
</dl>
</div>
</div>
<div class="section" id="rampart-import">
<h3>rampart.import<a class="headerlink" href="#rampart-import" title="Permalink to this headline">¶</a></h3>
<div class="section" id="csvfile">
<h4>csvFile<a class="headerlink" href="#csvfile" title="Permalink to this headline">¶</a></h4>
<p>The csvFile <span class="green">Function</span> imports csv data from a file.  It takes a
<span class="green">String</span> containing a file name and optionally
an <span class="green">Object</span> of options and/or a callback
<span class="green">Function</span>.  The parameters may be specified in any order.</p>
<p>Usage:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">res</span> <span class="o">=</span> <span class="nx">rampart</span><span class="p">.</span><span class="kr">import</span><span class="p">.</span><span class="nx">csvFile</span><span class="p">(</span><span class="nx">filename</span> <span class="p">[,</span> <span class="nx">options</span><span class="p">]</span> <span class="p">[,</span> <span class="nx">callback</span><span class="p">]);</span>
</pre></div>
</div>
<table class="docutils align-default">
<colgroup>
<col style="width: 17%" />
<col style="width: 22%" />
<col style="width: 61%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Argument</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>filename</p></td>
<td><p><span class="green">String</span></p></td>
<td><p>The csv file to import</p></td>
</tr>
<tr class="row-odd"><td><p>options</p></td>
<td><p><span class="green">Object</span></p></td>
<td><p>Options <em>described below</em></p></td>
</tr>
<tr class="row-even"><td><p>callback</p></td>
<td><p><span class="green">Function</span></p></td>
<td><p>a function to handle data one row at a time.</p></td>
</tr>
</tbody>
</table>
<dl>
<dt>filename:</dt><dd><p>The name of the csv file to be opened;</p>
</dd>
<dt>options:</dt><dd><p>The <code class="docutils literal notranslate"><span class="pre">options</span></code> <span class="green">Object</span> may contain any of the following.</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">stripLeadingWhite</span></code> -  <span class="green">Boolean</span> (default <code class="docutils literal notranslate"><span class="pre">true</span></code>):
Remove leading whitespace characters from cells.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">stripTrailingWhite</span></code> - <span class="green">Boolean</span> (default <code class="docutils literal notranslate"><span class="pre">true</span></code>): Remove
trailing whitespace characters from cells.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">doubleQuoteEscape</span></code> -  <span class="green">Boolean</span> (default <code class="docutils literal notranslate"><span class="pre">false</span></code>):
<code class="docutils literal notranslate"><span class="pre">&quot;&quot;</span></code> within strings is used to embed <code class="docutils literal notranslate"><span class="pre">&quot;</span></code> characters.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">singleQuoteNest</span></code> -  <span class="green">Boolean</span> (default <code class="docutils literal notranslate"><span class="pre">true</span></code>): Strings
may be bounded by <code class="docutils literal notranslate"><span class="pre">'</span></code> pairs and <code class="docutils literal notranslate"><span class="pre">&quot;</span></code> characters within are ignored.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">backslashEscape</span></code> -  <span class="green">Boolean</span> (default <code class="docutils literal notranslate"><span class="pre">true</span></code>):
Characters preceded by ‘\’ are translated and escaped.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">allEscapes</span></code> -  <span class="green">Boolean</span> (default <code class="docutils literal notranslate"><span class="pre">true</span></code>): All <code class="docutils literal notranslate"><span class="pre">\</span></code>
escape sequences known by the ‘C’ compiler are translated, if
<code class="docutils literal notranslate"><span class="pre">false</span></code> only backslash, single quote, and double quote are escaped.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">europeanDecimal</span></code>  -  <span class="green">Boolean</span> (default <code class="docutils literal notranslate"><span class="pre">false</span></code>):
Numbers like <code class="docutils literal notranslate"><span class="pre">123</span> <span class="pre">456,78</span></code> will be parsed as <code class="docutils literal notranslate"><span class="pre">123456.78</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">tryParsingStrings</span></code> -  <span class="green">Boolean</span> (default <code class="docutils literal notranslate"><span class="pre">false</span></code>): Look
inside quoted strings for dates and numbers to parse, if <code class="docutils literal notranslate"><span class="pre">false</span></code>
anything quoted is a string.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">delimiter</span></code> - <span class="green">String</span> (default <code class="docutils literal notranslate"><span class="pre">&quot;,&quot;</span></code>):  Use the first
character of string as a column delimiter (e.g <code class="docutils literal notranslate"><span class="pre">\t</span></code>).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">timeFormat</span></code> -  <span class="green">String</span> (default <code class="docutils literal notranslate"><span class="pre">&quot;%Y-%m-%d</span> <span class="pre">%H:%M:%S&quot;</span></code>):
Set the format for parsing a date/time. See manpage for
<a class="reference external" href="https://man7.org/linux/man-pages/man3/strptime.3p.html">strptime()</a>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">returnType</span></code>-  <span class="green">String</span> (default <code class="docutils literal notranslate"><span class="pre">&quot;array&quot;</span></code>, optionally
<code class="docutils literal notranslate"><span class="pre">&quot;object&quot;</span></code>): Whether to
return an <span class="green">Array</span> or an <span class="green">Object</span> for each row.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">hasHeaderRow</span></code> - -  <span class="green">Boolean</span> (default <code class="docutils literal notranslate"><span class="pre">false</span></code>): Whether
to treat the first row as column names. If <code class="docutils literal notranslate"><span class="pre">false</span></code>, the first row
is imported as csv data and the column names will
default to <code class="docutils literal notranslate"><span class="pre">col_1,</span> <span class="pre">col_2,</span> <span class="pre">...,</span> <span class="pre">col_n</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">normalize</span></code> - <span class="green">Boolean</span> (default <code class="docutils literal notranslate"><span class="pre">false</span></code>): If <code class="docutils literal notranslate"><span class="pre">true</span></code>,
examine each column in the parsed CSV object to find the majority
type of that column.  It then casts all the members of that column
to the majority type, or set it to <code class="docutils literal notranslate"><span class="pre">null</span></code> if it is
unable to do so. If <code class="docutils literal notranslate"><span class="pre">false</span></code>, each cell is individually normalized.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">includeRawString</span></code> <span class="green">Boolean</span> (default <code class="docutils literal notranslate"><span class="pre">false</span></code>): if
<code class="docutils literal notranslate"><span class="pre">true</span></code>, return each cell as an object containing
<code class="docutils literal notranslate"><span class="pre">{value:</span> <span class="pre">normalized</span> <span class="pre">value,</span> <span class="pre">raw:</span> <span class="pre">originalString}</span></code>.  If false, each
cell value is the primative normalized value.</p></li>
</ul>
</div></blockquote>
</dd>
<dt>callback:</dt><dd><p>A <span class="green">Function</span> taking as parameters (<code class="docutils literal notranslate"><span class="pre">result_row</span></code>, <code class="docutils literal notranslate"><span class="pre">index</span></code>, <code class="docutils literal notranslate"><span class="pre">columns</span></code>).
The callback is executed once for each row in the csv file:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">result_row</span></code>: (<span class="green">Array</span>/<span class="green">Object</span>): depending on the setting of <code class="docutils literal notranslate"><span class="pre">returnType</span></code>
in <code class="docutils literal notranslate"><span class="pre">Options</span></code> above, a single row is passed to the callback as an
<span class="green">Object</span> or an <span class="green">Array</span>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">index</span></code>: (<span class="green">Number</span>) The ordinal number of the current search result.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">columns</span></code>: an <span class="green">Array</span> corresponding to the column names or
aliases selected and returned in results.</p></li>
</ul>
</dd>
</dl>
<dl id="returnval">
<dt>Return Value:</dt><dd><p><span class="green">Number</span>/<span class="green">Object</span>.</p>
<p>With no callback, an <span class="green">Object</span> is returned.  The <span class="green">Object</span> contains
three key/value pairs.</p>
<p>Key: <code class="docutils literal notranslate"><span class="pre">results</span></code>; Value: an <span class="green">Array</span> of <span class="green">Arrays</span>.
Each outer <span class="green">Array</span> corresponds to a row in the csv file
and eac inner <span class="green">Array</span> corresponds to the columns in that row.
If <code class="docutils literal notranslate"><span class="pre">returnType</span></code> is set to <code class="docutils literal notranslate"><span class="pre">&quot;object&quot;</span></code>, an <span class="green">Array</span> of
<span class="green">Objects</span> with keys set to the corresponding column names
and the values set to the corresponding column values  of the
imported row.</p>
<p>Key: <code class="docutils literal notranslate"><span class="pre">rowCount</span></code>; Value: a <span class="green">Number</span> corresponding to the number of rows
returned.</p>
<p>Key:  <code class="docutils literal notranslate"><span class="pre">columns</span></code>; Value: an <span class="green">Array</span> corresponding to the column names or
aliases selected and returned in results.</p>
<p>With a callback, the return value is set to number of rows in the
csv file (not including the Header if <code class="docutils literal notranslate"><span class="pre">hasHeaderRow</span></code> is <code class="docutils literal notranslate"><span class="pre">true</span></code>).</p>
</dd>
</dl>
<p>Note: In the callback, the loop can be cancelled at any point by returning
<code class="docutils literal notranslate"><span class="pre">false</span></code>.  The return value (number of rows) will still be the total number
of rows in the csv file.</p>
</div>
<div class="section" id="csv">
<h4>csv<a class="headerlink" href="#csv" title="Permalink to this headline">¶</a></h4>
<p>Usage:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">res</span> <span class="o">=</span> <span class="nx">rampart</span><span class="p">.</span><span class="kr">import</span><span class="p">.</span><span class="nx">csv</span><span class="p">(</span><span class="nx">csvData</span> <span class="p">[,</span> <span class="nx">options</span><span class="p">]</span> <span class="p">[,</span> <span class="nx">callback</span><span class="p">]);</span>
</pre></div>
</div>
<p>Same as <a class="reference internal" href="#csvfile">csvFile</a>() except instead of a file name, a <span class="green">String</span> or <span class="green">Buffer</span> containing
the csv data is passed as a parameter.</p>
<p>Example:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">csvdata</span> <span class="o">=</span>
<span class="s2">&quot;column 1, column 2, column 3, column 4\n&quot;</span><span class="o">+</span>
<span class="s2">&quot;1.0, val2, val3, val4\n&quot;</span> <span class="o">+</span>
<span class="s2">&quot;valx, val5, val6, value 7\n&quot;</span><span class="p">;</span>

<span class="cm">/* no callback */</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span>
  <span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span>
    <span class="nx">rampart</span><span class="p">.</span><span class="kr">import</span><span class="p">.</span><span class="nx">csv</span><span class="p">(</span><span class="nx">csvdata</span><span class="p">,</span>
        <span class="p">{</span>
            <span class="nx">hasHeaderRow</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
            <span class="nx">normalize</span><span class="o">:</span> <span class="kc">true</span>
        <span class="p">}</span>
    <span class="p">),</span><span class="kc">null</span><span class="p">,</span><span class="mi">3</span>
  <span class="p">)</span>
<span class="p">);</span>

<span class="cm">/* with callback */</span>
<span class="kd">var</span> <span class="nx">rows</span><span class="o">=</span><span class="nx">rampart</span><span class="p">.</span><span class="kr">import</span><span class="p">.</span><span class="nx">csv</span><span class="p">(</span>
   <span class="nx">csvdata</span><span class="p">,</span>
   <span class="p">{</span>
      <span class="nx">hasHeaderRow</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
      <span class="nx">normalize</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
      <span class="nx">returnType</span><span class="o">:</span><span class="s1">&#39;object&#39;</span><span class="p">,</span>
      <span class="nx">includeRawString</span><span class="o">:</span><span class="kc">true</span>
   <span class="p">},</span>
   <span class="kd">function</span><span class="p">(</span><span class="nx">res</span><span class="p">,</span><span class="nx">i</span><span class="p">,</span><span class="nx">col</span><span class="p">){</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">i</span><span class="p">,</span><span class="nx">res</span><span class="p">,</span><span class="nx">col</span><span class="p">);</span>
   <span class="p">}</span>
<span class="p">);</span>

<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;rows:&quot;</span><span class="p">,</span> <span class="nx">rows</span><span class="p">);</span>

<span class="cm">/* expected output:</span>
<span class="cm">{</span>
<span class="cm">   &quot;results&quot;: [</span>
<span class="cm">      [</span>
<span class="cm">         1,</span>
<span class="cm">         &quot;val2&quot;,</span>
<span class="cm">         &quot;val3&quot;,</span>
<span class="cm">         &quot;val4&quot;</span>
<span class="cm">      ],</span>
<span class="cm">      [</span>
<span class="cm">         null,</span>
<span class="cm">         &quot;val5&quot;,</span>
<span class="cm">         &quot;val6&quot;,</span>
<span class="cm">         &quot;value 7&quot;</span>
<span class="cm">      ]</span>
<span class="cm">   ],</span>
<span class="cm">   &quot;columns&quot;: [</span>
<span class="cm">      &quot;column 1&quot;,</span>
<span class="cm">      &quot;column 2&quot;,</span>
<span class="cm">      &quot;column 3&quot;,</span>
<span class="cm">      &quot;column 4&quot;</span>
<span class="cm">   ],</span>
<span class="cm">   &quot;rowCount&quot;: 2</span>
<span class="cm">}</span>
<span class="cm">0 {&quot;column 1&quot;:{value:1,raw:&quot;1.0&quot;},&quot;column 2&quot;:{value:&quot;val2&quot;,raw:&quot;val2&quot;},&quot;column 3&quot;:{value:&quot;val3&quot;,raw:&quot;val3&quot;},&quot;column 4&quot;:{value:&quot;val4&quot;,raw:&quot;val4&quot;}} [&quot;column 1&quot;,&quot;column 2&quot;,&quot;column 3&quot;,&quot;column 4&quot;]</span>
<span class="cm">1 {&quot;column 1&quot;:{value:null,raw:&quot;valx&quot;},&quot;column 2&quot;:{value:&quot;val5&quot;,raw:&quot;val5&quot;},&quot;column 3&quot;:{value:&quot;val6&quot;,raw:&quot;val6&quot;},&quot;column 4&quot;:{value:&quot;value 7&quot;,raw:&quot;value 7&quot;}} [&quot;column 1&quot;,&quot;column 2&quot;,&quot;column 3&quot;,&quot;column 4&quot;]</span>
<span class="cm">rows: 2</span>
<span class="cm">*/</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="process-global-variable-and-functions">
<h2>Process Global Variable and Functions<a class="headerlink" href="#process-global-variable-and-functions" title="Permalink to this headline">¶</a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">process</span></code> global variable contains the following properties:</p>
<div class="section" id="exit">
<h3>exit<a class="headerlink" href="#exit" title="Permalink to this headline">¶</a></h3>
<p>The exit function terminates the execution of the current script.</p>
<p>Usage:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">process</span><span class="p">.</span><span class="nx">exit</span><span class="p">([</span><span class="nx">exitcode</span><span class="p">]);</span>
</pre></div>
</div>
<p>Where the optional <code class="docutils literal notranslate"><span class="pre">exitcode</span></code> is a <span class="green">Number</span>, the status that Rampart returns
to its parent (default: <code class="docutils literal notranslate"><span class="pre">0</span></code>);</p>
</div>
<div class="section" id="env">
<h3>env<a class="headerlink" href="#env" title="Permalink to this headline">¶</a></h3>
<p>The value of <code class="docutils literal notranslate"><span class="pre">process.env</span></code> is an <span class="green">Object</span> containing properties and values
corresponding to the environment variables available to Rampart upon
execution.</p>
</div>
<div class="section" id="argv">
<h3>argv<a class="headerlink" href="#argv" title="Permalink to this headline">¶</a></h3>
<p>The value of <code class="docutils literal notranslate"><span class="pre">process.argv</span></code> is an <span class="green">Array</span> of the arguments passed to rampart
upon execution.  The first member is always the name of the rampart
executable.  The second is usually the filename of the script provided on
the command line.  However if flags are present (arguments starting with
<code class="docutils literal notranslate"><span class="pre">-</span></code>), the script name may be a later argument.  Subsequent members occur
in the order they were given on the command line.</p>
</div>
<div class="section" id="scriptpath">
<h3>scriptPath<a class="headerlink" href="#scriptpath" title="Permalink to this headline">¶</a></h3>
<p>The value of <code class="docutils literal notranslate"><span class="pre">process.scriptPath</span></code> is a <span class="green">String</span> containing the
canonical path (directory) in which the currently executing script can be
found (e.g.  if <code class="docutils literal notranslate"><span class="pre">rampart</span> <span class="pre">/path/to/my/script.js</span></code> is run,
<code class="docutils literal notranslate"><span class="pre">process.scriptPath</span></code> will be <code class="docutils literal notranslate"><span class="pre">/path/to/my</span></code>).</p>
</div>
</div>
<div class="section" id="using-the-require-function-to-import-modules">
<h2>Using the require Function to Import Modules<a class="headerlink" href="#using-the-require-function-to-import-modules" title="Permalink to this headline">¶</a></h2>
<p>Scripts may reference function stored in external files.  These files are
known as modules.  A module is a compiled C program or a JavaScript file
which exports an <span class="green">Object</span> or <span class="green">Function</span> when the
<code class="docutils literal notranslate"><span class="pre">require(&quot;scriptname&quot;)</span></code> syntax is used.</p>
<p>Example for the SQL C Module:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">sql</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">&quot;rampart-sql&quot;</span><span class="p">);</span>
</pre></div>
</div>
<p>This will search the current directory and the rampart modules directories
for a module named <code class="docutils literal notranslate"><span class="pre">rampart-sql.so</span></code> or <code class="docutils literal notranslate"><span class="pre">rampart-sql.js</span></code> and use the
first one found.  In this case <code class="docutils literal notranslate"><span class="pre">rampart-sql.so</span></code> will be found and the SQL
module and its functions will be usable via the named variable <code class="docutils literal notranslate"><span class="pre">sql</span></code>.  See,
e.g, <a class="reference internal" href="rampart-sql.html#loading-the-javascript-module"><span class="std std-ref">Loading the Javascript Module</span></a> for full details.</p>
<p>Example using a JavaScript module:</p>
<p>If you have an often used function, or a function used for serving web pages
with <span class="xref std std-ref">rampart-server:The rampart-server module</span>, it can be placed in a
separate file (here the file is named <code class="docutils literal notranslate"><span class="pre">times2.js</span></code>):</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kd">function</span> <span class="nx">timestwo</span> <span class="p">(</span><span class="nx">num</span><span class="p">)</span> <span class="p">{</span>
   <span class="k">return</span> <span class="nx">num</span> <span class="o">*</span><span class="mi">2</span><span class="p">;</span>
<span class="p">}</span>

<span class="nx">module</span><span class="p">.</span><span class="nx">exports</span><span class="o">=</span><span class="nx">timestwo</span><span class="p">;</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">module.exports</span></code> variable is set to the <span class="green">Object</span> or
<span class="green">Function</span> being exported.</p>
<p>In another script, the exported <code class="docutils literal notranslate"><span class="pre">timestwo</span></code> function could be accessed as such:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">x2</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">&quot;times2&quot;</span><span class="p">);</span>
<span class="cm">/* alternatively</span>
<span class="cm">  var x2 = require(&quot;times2.js&quot;);</span>
<span class="cm">*/</span>

<span class="kd">var</span> <span class="nx">res</span> <span class="o">=</span> <span class="nx">x2</span><span class="p">(</span><span class="mi">5</span><span class="p">);</span>

<span class="cm">/* res == 10 */</span>
</pre></div>
</div>
<p>Modules are searched for in the following order:</p>
<ol class="arabic simple">
<li><p>As given.  If <code class="docutils literal notranslate"><span class="pre">/path/to/module.js</span></code> is given, it is checked first.</p></li>
<li><p>In <a class="reference internal" href="#scriptpath">scriptPath</a>.</p></li>
<li><p>In the <code class="docutils literal notranslate"><span class="pre">.rampart/modules</span></code> directory of current user’s home directory
as provided by the <code class="docutils literal notranslate"><span class="pre">$HOME</span></code> environment variable.</p></li>
<li><p>In the <code class="docutils literal notranslate"><span class="pre">-DRP_INST_PATH</span></code> + “/modules” set when Rampart was compiled.  The default
is <code class="docutils literal notranslate"><span class="pre">/usr/local/rampart/modules</span></code>, or, if set, the path pointed to by
the envirnonment variable <code class="docutils literal notranslate"><span class="pre">$RAMPART_PATH</span></code> + “/modules”.</p></li>
<li><p>In the current working directory.</p></li>
</ol>
</div>
<div class="section" id="additional-global-variables-and-functions">
<h2>Additional Global Variables and Functions<a class="headerlink" href="#additional-global-variables-and-functions" title="Permalink to this headline">¶</a></h2>
<p>Other global variables are provided by the Duktape JavaScript engine and
include:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://duktape.org/guide.html#builtin-duktape">Duktape</a></p></li>
<li><p><a class="reference external" href="https://duktape.org/guide.html#builtin-cbor">CBOR</a></p></li>
<li><p><a class="reference external" href="https://duktape.org/guide.html#builtin-textencoder">TextEncoder</a></p></li>
<li><p><a class="reference external" href="https://duktape.org/guide.html#builtin-textdecoder">TextDecoder</a></p></li>
<li><p><a class="reference external" href="https://duktape.org/guide.html#builtin-performance">performance</a></p></li>
</ul>
<p>For more information, see the <a class="reference external" href="https://duktape.org/guide.html">Duktape Guide</a></p>
<p>Also added to Rampart is the <code class="docutils literal notranslate"><span class="pre">setTimeout()</span></code> function.  It is considered
experimental and is mainly included to support asynchronous functions in
<a class="reference internal" href="#ecmascript-2015-and-babel-js">ECMAScript 2015+ and Babel.js</a>.</p>
</div>
<div class="section" id="ecmascript-2015-and-babel-js">
<h2>ECMAScript 2015+ and Babel.js<a class="headerlink" href="#ecmascript-2015-and-babel-js" title="Permalink to this headline">¶</a></h2>
<div class="section" id="babel-acknowledgement">
<h3>Babel Acknowledgement<a class="headerlink" href="#babel-acknowledgement" title="Permalink to this headline">¶</a></h3>
<p>Rampart <strong>experimentally</strong> uses <a class="reference external" href="https://babeljs.io/">Babel.js</a> to support a
greater breath of JavaScript syntax and functionality.  Babel.js is a
toolchain that converts ECMAScript 2015+ (and optionally TypeScript) code
into a version of JavaScript compatible with Duktape.  The authors of
Rampart are extremely grateful to the
<a class="reference external" href="https://babeljs.io/team">Babel development team</a>.</p>
</div>
<div class="section" id="babel-license">
<h3>Babel License<a class="headerlink" href="#babel-license" title="Permalink to this headline">¶</a></h3>
<p>Babel.js is
<a class="reference external" href="https://github.com/babel/babel/blob/main/LICENSE">MIT licensed</a>.</p>
</div>
<div class="section" id="usage">
<h3>Usage<a class="headerlink" href="#usage" title="Permalink to this headline">¶</a></h3>
<p>A slightly modified version of babel.js (currently babel-standalone v
7.11.1) and the associated collection of polyfills (babel-polyfill.js) are
included in the Rampart distribution.  To use ECMA 2015+ features of
JavaScript, simply include the following at the beginning of the script:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="s2">&quot;use babel&quot;</span>
</pre></div>
</div>
<p>Note that the <code class="docutils literal notranslate"><span class="pre">&quot;use</span> <span class="pre">babel&quot;</span></code> string should be the first JavaScript text in
the script.  However it may come after any comments or a hash-bang line.  It
also should be the only text on the line, other than an optional comment.</p>
<p>Example:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="ch">#!/usr/local/bin/rampart</span>
<span class="c1">// above is ignored by rampart.</span>

<span class="cm">/* My first ECMA 2015 Script using Rampart/Duktape/Babel */</span>

<span class="s2">&quot;use babel&quot;</span> <span class="cm">/* a comment on this line is ok */</span>

<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="sb">`a multiline string</span>
<span class="sb">using backticks is much easier than</span>
<span class="sb">using</span>
<span class="sb">console.log(</span>
<span class="sb">             &quot;string\\n&quot; +</span>
<span class="sb">             &quot;string2\\n&quot;</span>
<span class="sb">           );</span>
<span class="sb">`</span><span class="p">);</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">&quot;use</span> <span class="pre">babel&quot;</span></code> directive optionally takes a <code class="docutils literal notranslate"><span class="pre">:</span></code> followed by babel
options.  Without options <code class="docutils literal notranslate"><span class="pre">&quot;use</span> <span class="pre">babel&quot;</span></code> is equivalent to
<code class="docutils literal notranslate"><span class="pre">&quot;use</span> <span class="pre">babel:{</span> <span class="pre">presets:</span> <span class="pre">['env'],</span> <span class="pre">retainLines:</span> <span class="pre">true</span> <span class="pre">}&quot;</span></code>.  See
<a class="reference external" href="https://babeljs.io/docs/en/babel-preset-env">babel documentation</a>
for more information on possible options.</p>
<p>A simple example in
<a class="reference external" href="https://www.typescriptlang.org/docs/handbook/typescript-in-5-minutes.html">TypeScript</a>:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="cm">/* note that filename is required for &#39;typescript&#39;</span>
<span class="cm">   and that &#39;env&#39; is also included to allow for ECMA 2015+  */</span>

<span class="s2">&quot;use babel:{ filename: &#39;myfile.ts&#39;, presets: [&#39;typescript&#39;,&#39;env&#39;], retainLines: true }&quot;</span>

<span class="kr">interface</span> <span class="nx">Point</span> <span class="p">{</span>
  <span class="nx">x</span><span class="o">:</span> <span class="nx">number</span><span class="p">;</span>
  <span class="nx">y</span><span class="o">:</span> <span class="nx">number</span><span class="p">;</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">printPoint</span><span class="p">(</span><span class="nx">p</span><span class="o">:</span> <span class="nx">Point</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="sb">`</span><span class="si">${</span><span class="nx">p</span><span class="p">.</span><span class="nx">x</span><span class="si">}</span><span class="sb">, </span><span class="si">${</span><span class="nx">p</span><span class="p">.</span><span class="nx">y</span><span class="si">}</span><span class="sb">`</span><span class="p">);</span>
<span class="p">}</span>

<span class="c1">// prints &quot;12, 26&quot;</span>
<span class="kr">const</span> <span class="nx">point</span> <span class="o">=</span> <span class="p">{</span> <span class="nx">x</span><span class="o">:</span> <span class="mi">12</span><span class="p">,</span> <span class="nx">y</span><span class="o">:</span> <span class="mi">26</span> <span class="p">};</span>
<span class="nx">printPoint</span><span class="p">(</span><span class="nx">point</span><span class="p">);</span>
</pre></div>
</div>
<p>Note that babel does not actually do any type checking.  See
<a class="reference external" href="https://babeljs.io/docs/en/babel-plugin-transform-typescript#caveats">this caveat</a>.</p>
<p>For a list of tested and supported syntax, see the
<code class="docutils literal notranslate"><span class="pre">/usr/local/rampart/tests/babel-test.js</span></code> file.</p>
</div>
<div class="section" id="how-it-works">
<h3>How it works<a class="headerlink" href="#how-it-works" title="Permalink to this headline">¶</a></h3>
<p>When the <code class="docutils literal notranslate"><span class="pre">&quot;use</span> <span class="pre">babel&quot;</span></code> string is found, Rampart automatically loads
babel.js and uses it to transpile the script into JavaScript compatible with
the Duktape JavaScript engine.  A cache copy of the transpiled script will
be saved in the same directory, and will be named by removing <code class="docutils literal notranslate"><span class="pre">.js</span></code> from
the original script name and replacing it with <code class="docutils literal notranslate"><span class="pre">.babel.js</span></code>.  Thus if, e.g.,
the original script was named <code class="docutils literal notranslate"><span class="pre">myfile.js</span></code>, the transpiled version will be
named <code class="docutils literal notranslate"><span class="pre">myfile.babel.js</span></code>.</p>
<p>When the original script is run again, Rampart will check the date on the
script, and if it was not modified after the modification date of the
<code class="docutils literal notranslate"><span class="pre">*.babel.js</span></code> file, the transpile stage will be skipped and the cached,
transpiled script will be run directly.</p>
</div>
<div class="section" id="caveats">
<h3>Caveats<a class="headerlink" href="#caveats" title="Permalink to this headline">¶</a></h3>
<p>For a complicated script, the transpile stage can be very slow.  However if
the script has not changed since last run, the execution speed will be
normal as the cached/transpiled code will be used and thus no traspiling
will occur.</p>
<p>Also note that nearly all Rampart functions are synchronous, and therefore
will be executed before any babel transpiled asynchronous code
regardless of its position in the script.  This is normal behavior for
JavaScript, but may be counterintuitive if coming from, e.g. Node.js
where most functions are asynchronous.</p>
<p>As an example, the following code produces the same output in Rampart and
Node.js.</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="s2">&quot;use babel&quot;</span> <span class="cm">/* ignored in node */</span>

<span class="kd">function</span> <span class="nx">resolveme</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">return</span> <span class="k">new</span> <span class="nb">Promise</span><span class="p">(</span><span class="nx">resolve</span> <span class="p">=&gt;</span> <span class="p">{</span>

    <span class="nx">setTimeout</span><span class="p">(()</span> <span class="p">=&gt;</span> <span class="p">{</span>
      <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;**I&#39;m async in a Timeout!!**&quot;</span><span class="p">);</span>
    <span class="p">},</span><span class="mi">5</span><span class="p">);</span>

    <span class="nx">resolve</span><span class="p">(</span><span class="s2">&quot;**I&#39;m async!!**&quot;</span><span class="p">);</span>

  <span class="p">});</span>
<span class="p">}</span>

<span class="nx">async</span> <span class="kd">function</span> <span class="nx">asyncCall</span><span class="p">()</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">result</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">resolveme</span><span class="p">();</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">);</span>
<span class="p">}</span>

<span class="nx">asyncCall</span><span class="p">();</span>

<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span>
<span class="sb">`a multiline string</span>
<span class="sb">using backticks`</span>
<span class="p">);</span>

<span class="cm">/* expect output:</span>
<span class="cm">a multiline string</span>
<span class="cm">using backticks</span>
<span class="cm">**I&#39;m async!!**</span>
<span class="cm">**I&#39;m async in a Timeout!!**</span>
<span class="cm">*/</span>
</pre></div>
</div>
</div>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="sqltoc.html" class="btn btn-neutral float-right" title="The rampart-sql module" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="index.html" class="btn btn-neutral" title="Welcome to Rampart’s documentation." accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020, Moat Crossing Systems.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> and ❤️  using a custom <a href="https://github.com/LinxiFan/Sphinx-theme">theme</a> based on <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'0.1.0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>
      <script type="text/javascript" src="_static/language_data.js"></script>
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>