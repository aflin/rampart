

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>The rampart-server HTML module &mdash; Rampart 0.1.0 documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  
    <link rel="stylesheet" href="_static/theme_overrides.css" type="text/css" />
  
    <link rel="stylesheet" href="_static/hacks.css" type="text/css" />
  

  
        <link rel="index" title="Index"
              href="genindex.html"/>
        <link rel="search" title="Search" href="search.html"/>
    <link rel="top" title="Rampart 0.1.0 documentation" href="index.html"/>
        <link rel="next" title="The rampart-crypto module" href="rampart-crypto.html"/>
        <link rel="prev" title="The rampart-server HTTP module" href="rampart-server.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> Rampart
          

          
          </a>

          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="rampart-main.html">Rampart JavaScript</a></li>
<li class="toctree-l1"><a class="reference internal" href="sqltoc.html">The rampart-sql module</a></li>
<li class="toctree-l1"><a class="reference internal" href="rampart-server.html">The rampart-server module</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">The rampart-html module</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#preface">Preface</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#acknowledgment">Acknowledgment</a></li>
<li class="toctree-l3"><a class="reference internal" href="#license">License</a></li>
<li class="toctree-l3"><a class="reference internal" href="#what-does-it-do">What does it do?</a></li>
<li class="toctree-l3"><a class="reference internal" href="#how-does-it-work">How does it work?</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#loading-and-using-the-module">Loading and Using the Module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#loading">Loading</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#configuring-and-parsing">Configuring and Parsing</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#newdocument">newDocument</a></li>
<li class="toctree-l3"><a class="reference internal" href="#prettyprint">prettyPrint</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#manipulating-the-html">Manipulating the HTML</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#the-html-object">The html object</a></li>
<li class="toctree-l3"><a class="reference internal" href="#selecting-elements">Selecting Elements</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#findtag">findTag</a></li>
<li class="toctree-l4"><a class="reference internal" href="#findattr">findAttr</a></li>
<li class="toctree-l4"><a class="reference internal" href="#findclass">findClass</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#output-from-elements">Output from Elements</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#getelement">getElement</a></li>
<li class="toctree-l4"><a class="reference internal" href="#getelementname">getElementName</a></li>
<li class="toctree-l4"><a class="reference internal" href="#getattr">getAttr</a></li>
<li class="toctree-l4"><a class="reference internal" href="#getallattr">getAllAttr</a></li>
<li class="toctree-l4"><a class="reference internal" href="#tohtml">toHtml</a></li>
<li class="toctree-l4"><a class="reference internal" href="#totext">toText</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#traversing-html-tree">Traversing HTML tree</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#next">next</a></li>
<li class="toctree-l4"><a class="reference internal" href="#prev">prev</a></li>
<li class="toctree-l4"><a class="reference internal" href="#children">children</a></li>
<li class="toctree-l4"><a class="reference internal" href="#parent">parent</a></li>
<li class="toctree-l4"><a class="reference internal" href="#getdocument">getDocument</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#manipulating-the-list-of-elements">Manipulating the List of Elements</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#filtertag">filterTag</a></li>
<li class="toctree-l4"><a class="reference internal" href="#filterattr">filterAttr</a></li>
<li class="toctree-l4"><a class="reference internal" href="#filterclass">filterClass</a></li>
<li class="toctree-l4"><a class="reference internal" href="#slice">slice</a></li>
<li class="toctree-l4"><a class="reference internal" href="#eq">eq</a></li>
<li class="toctree-l4"><a class="reference internal" href="#add">add</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#testing-elements">Testing Elements</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#hastag">hasTag</a></li>
<li class="toctree-l4"><a class="reference internal" href="#hasattr">hasAttr</a></li>
<li class="toctree-l4"><a class="reference internal" href="#hasclass">hasClass</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#manipulating-elements">Manipulating Elements</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#attr">attr</a></li>
<li class="toctree-l4"><a class="reference internal" href="#removeattr">removeAttr</a></li>
<li class="toctree-l4"><a class="reference internal" href="#addclass">addClass</a></li>
<li class="toctree-l4"><a class="reference internal" href="#removeclass">removeClass</a></li>
<li class="toctree-l4"><a class="reference internal" href="#detach">detach</a></li>
<li class="toctree-l4"><a class="reference internal" href="#delete">delete</a></li>
<li class="toctree-l4"><a class="reference internal" href="#append">append</a></li>
<li class="toctree-l4"><a class="reference internal" href="#prepend">prepend</a></li>
<li class="toctree-l4"><a class="reference internal" href="#after">after</a></li>
<li class="toctree-l4"><a class="reference internal" href="#before">before</a></li>
<li class="toctree-l4"><a class="reference internal" href="#replace">replace</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="rampart-crypto.html">The rampart-crypto module</a></li>
<li class="toctree-l1"><a class="reference internal" href="rampart-curl.html">The rampart-curl module</a></li>
<li class="toctree-l1"><a class="reference internal" href="rampart-robots.html">The rampart-robots module</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Rampart</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>The rampart-server HTML module</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/rampart-html.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="the-rampart-server-html-module">
<h1>The rampart-server HTML module<a class="headerlink" href="#the-rampart-server-html-module" title="Permalink to this headline">¶</a></h1>
<div class="section" id="preface">
<h2>Preface<a class="headerlink" href="#preface" title="Permalink to this headline">¶</a></h2>
<div class="section" id="acknowledgment">
<h3>Acknowledgment<a class="headerlink" href="#acknowledgment" title="Permalink to this headline">¶</a></h3>
<p>The rampart-html module uses the
<a class="reference external" href="http://www.html-tidy.org/">Tidy-HTML5</a> library
to parse, fix-up, and manipulate html formatted documents.
The developers of Rampart are extremely grateful for the excellent api and ease
of use of the <a class="reference external" href="http://www.html-tidy.org/">Tidy-HTML5</a> library.</p>
</div>
<div class="section" id="license">
<h3>License<a class="headerlink" href="#license" title="Permalink to this headline">¶</a></h3>
<p>The rampart-html module is released under the MIT license.
The <a class="reference external" href="http://www.html-tidy.org/">Tidy-HTML5</a> library is
<a class="reference external" href="https://github.com/htacg/tidy-html5/blob/next/README/LICENSE.md">licensed</a>
with a <a class="reference external" href="https://opensource.org/licenses/Zlib">zlib</a>-like license.</p>
</div>
<div class="section" id="what-does-it-do">
<h3>What does it do?<a class="headerlink" href="#what-does-it-do" title="Permalink to this headline">¶</a></h3>
<p>The rampart-html module provides methods to import, parse, alter and
pretty-print HTML documents.  It is meant to be familiar to those with
experience using jQuery, but has different syntax, fewer functions and more
restrictions.</p>
</div>
<div class="section" id="how-does-it-work">
<h3>How does it work?<a class="headerlink" href="#how-does-it-work" title="Permalink to this headline">¶</a></h3>
<p>After the module is loaded, an HTML document may be created or parsed by
passing a <span class="green">String</span> or <span class="green">Buffer</span> to the <code class="docutils literal notranslate"><span class="pre">newDocument</span></code>
function.  The parsed document may then be manipulated using functions
to select, add or delete specific elements.
It then may be written to a new string using the <code class="docutils literal notranslate"><span class="pre">prettyPrint</span></code> function.</p>
</div>
</div>
<div class="section" id="loading-and-using-the-module">
<h2>Loading and Using the Module<a class="headerlink" href="#loading-and-using-the-module" title="Permalink to this headline">¶</a></h2>
<div class="section" id="loading">
<h3>Loading<a class="headerlink" href="#loading" title="Permalink to this headline">¶</a></h3>
<p>Loading the module is a simple matter of using the <code class="docutils literal notranslate"><span class="pre">require()</span></code> function:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">html</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">&quot;rampart-html&quot;</span><span class="p">);</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="configuring-and-parsing">
<h2>Configuring and Parsing<a class="headerlink" href="#configuring-and-parsing" title="Permalink to this headline">¶</a></h2>
<p>Loading the rampart-html module returns an object with the property/function
<code class="docutils literal notranslate"><span class="pre">newDocument()</span></code>.  This function can be used to create a blank HTML
document or import and parse from an existing one.</p>
<div class="section" id="newdocument">
<h3>newDocument<a class="headerlink" href="#newdocument" title="Permalink to this headline">¶</a></h3>
<p>Usage:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">html</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">&quot;rampart-html&quot;</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">mydoc</span> <span class="o">=</span> <span class="nx">html</span><span class="p">.</span><span class="nx">newDocument</span><span class="p">([</span><span class="nx">document_text</span><span class="p">][,</span> <span class="nx">options</span><span class="p">]);</span>
</pre></div>
</div>
<p>where:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">document_text</span></code> is a <span class="green">String</span> or <span class="green">Buffer</span> containing the
HTML text to be parsed. If not specified or a blank string,
an empty document with the <code class="docutils literal notranslate"><span class="pre">html</span></code>, <code class="docutils literal notranslate"><span class="pre">head</span></code>, <code class="docutils literal notranslate"><span class="pre">title</span></code> and
<code class="docutils literal notranslate"><span class="pre">body</span></code> tags in place will be created.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">options</span></code> is an optional <span class="green">Object</span> of key/value pairs that correspond
to the <a class="reference external" href="https://api.html-tidy.org/tidy/tidylib_api_5.6.0/tidy_quickref.html">standard command line</a>
options for <a class="reference external" href="http://www.html-tidy.org/">Tidy-HTML5</a>.
Some of these options apply to the rules for parsing the document, while
others apply to the appearance of the document (such as indentation and
line wrapping) when it is output is <a class="reference internal" href="#prettyprint">prettyPrint</a>ed.  Other options
that deal with file i/o are ignored.</p>
<p>A small subset of these options include:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">indent</span></code> - a <span class="green">Boolean</span>, whether to add indentation and word wrapping
to the output when using <a class="reference internal" href="#prettyprint">prettyPrint</a>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">indent-spaces</span></code> - a <span class="green">Number</span> indicating the number of spaces
to indent the output when using <a class="reference internal" href="#prettyprint">prettyPrint</a> and <code class="docutils literal notranslate"><span class="pre">indent</span></code> above
is set <code class="docutils literal notranslate"><span class="pre">true</span></code>. The default is <code class="docutils literal notranslate"><span class="pre">2</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">wrap</span></code> - a <span class="green">Number</span> indicating the maximum length of a
line of text or html used when using <a class="reference internal" href="#prettyprint">prettyPrint</a> and <code class="docutils literal notranslate"><span class="pre">indent</span></code>
above is set <code class="docutils literal notranslate"><span class="pre">true</span></code>.  The default is <code class="docutils literal notranslate"><span class="pre">68</span></code>.  There may be some
circumstances where it is not possible to wrap a line.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">drop-empty-elements</span></code> - a <span class="green">Boolean</span>, whether to drop empty
elements. <strong>In Rampart</strong> the default is <code class="docutils literal notranslate"><span class="pre">false</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">tidy-mark</span></code> - a <span class="green">Boolean</span>, whether to insert a <code class="docutils literal notranslate"><span class="pre">meta</span></code> tag
in the head of the document indicating that the
<a class="reference external" href="http://www.html-tidy.org/">Tidy-HTML5</a> library was used to process
the document.  <strong>In Rampart</strong> the default is <code class="docutils literal notranslate"><span class="pre">false</span></code>.</p></li>
<li><p>See the <a class="reference external" href="https://api.html-tidy.org/tidy/tidylib_api_5.6.0/tidy_quickref.html">HTML Tidy Options Quick Reference</a>
for more options.</p></li>
</ul>
</li>
</ul>
<dl class="simple">
<dt>Return Value:</dt><dd><p>An <em>html object</em> with all the functions for manipulating the HTML
document.  In addition, this <em>top level html object</em>
will also contain the <code class="docutils literal notranslate"><span class="pre">prettyPrint()</span></code> function.</p>
</dd>
</dl>
</div>
<div class="section" id="prettyprint">
<h3>prettyPrint<a class="headerlink" href="#prettyprint" title="Permalink to this headline">¶</a></h3>
<p>The <em>top level html object</em> includes an additional function which will
output the entire text of the document with optional indentation.</p>
<p>Example:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">html</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">&quot;rampart-html&quot;</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">mydoc</span> <span class="o">=</span> <span class="nx">html</span><span class="p">.</span><span class="nx">newDocument</span><span class="p">({</span> <span class="nx">indent</span><span class="o">:</span> <span class="kc">true</span> <span class="p">});</span>

<span class="kd">var</span> <span class="nx">output</span> <span class="o">=</span> <span class="nx">mydoc</span><span class="p">.</span><span class="nx">prettyPrint</span><span class="p">();</span>

<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">output</span><span class="p">);</span>

<span class="cm">/* expected output:</span>

<span class="cm">&lt;!DOCTYPE html&gt;</span>
<span class="cm">&lt;html&gt;</span>
<span class="cm">  &lt;head&gt;</span>
<span class="cm">    &lt;title&gt;&lt;/title&gt;</span>
<span class="cm">  &lt;/head&gt;</span>
<span class="cm">  &lt;body&gt;</span>
<span class="cm">  &lt;/body&gt;</span>
<span class="cm">&lt;/html&gt;</span>

<span class="cm">*/</span>

<span class="nx">mydoc</span> <span class="o">=</span> <span class="nx">html</span><span class="p">.</span><span class="nx">newDocument</span><span class="p">(</span>
    <span class="s1">&#39;&lt;title&gt;My Page&lt;/title&gt;&lt;h1&gt;Welcome to my page&lt;/h2&gt;&#39;</span><span class="p">,</span>
    <span class="p">{</span> <span class="nx">indent</span><span class="o">:</span> <span class="kc">true</span> <span class="p">}</span>
<span class="p">);</span>

<span class="nx">output</span> <span class="o">=</span> <span class="nx">mydoc</span><span class="p">.</span><span class="nx">prettyPrint</span><span class="p">();</span>

<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">output</span><span class="p">);</span>

<span class="cm">/* expected output:</span>
<span class="cm">&lt;!DOCTYPE html&gt;</span>
<span class="cm">&lt;html&gt;</span>
<span class="cm">  &lt;head&gt;</span>
<span class="cm">    &lt;title&gt;</span>
<span class="cm">      My Page</span>
<span class="cm">    &lt;/title&gt;</span>
<span class="cm">  &lt;/head&gt;</span>
<span class="cm">  &lt;body&gt;</span>
<span class="cm">    &lt;h1&gt;</span>
<span class="cm">      Welcome to my page</span>
<span class="cm">    &lt;/h1&gt;</span>
<span class="cm">  &lt;/body&gt;</span>
<span class="cm">&lt;/html&gt;</span>
<span class="cm">*/</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="manipulating-the-html">
<h2>Manipulating the HTML<a class="headerlink" href="#manipulating-the-html" title="Permalink to this headline">¶</a></h2>
<div class="section" id="the-html-object">
<h3>The html object<a class="headerlink" href="#the-html-object" title="Permalink to this headline">¶</a></h3>
<p>An <em>html object</em> is an <span class="green">Object</span> which contains an opaque list of elements in
the HTML document parsed with <a class="reference internal" href="#newdocument">newDocument</a> above.
An element is a single parsed html tag (such as “<code class="docutils literal notranslate"><span class="pre">&lt;br</span> <span class="pre">/&gt;</span></code>”)
with links to its descendant elements and/or plain text content, if any.</p>
<p>The <em>top level html object</em> is the <span class="green">Object</span> returned from
<a class="reference internal" href="#newdocument">newDocument</a>.  It is identical to other <em>html objects</em>, except that it
additionally includes the <a class="reference internal" href="#prettyprint">prettyPrint</a> function.</p>
<p>In addition to the <em>top level html object</em>, new ones can be created.
A new list of elements is returned in an <em>html object</em> when they are
selected, detached, moved, copied or have their attributes and
classes changed with the functions below.</p>
<p>Each <em>html object</em> created from any other <em>html object</em> will refer
to elements in the same document.  These elements represent the actual
content in the html document, and if manipulated, will change the contents
returned from <a class="reference internal" href="#prettyprint">prettyPrint</a>.</p>
<p>Additionally, the <em>html object</em> includes the <code class="docutils literal notranslate"><span class="pre">length</span></code> property (number of elements in
the current list).</p>
</div>
<div class="section" id="selecting-elements">
<h3>Selecting Elements<a class="headerlink" href="#selecting-elements" title="Permalink to this headline">¶</a></h3>
<div class="section" id="findtag">
<h4>findTag<a class="headerlink" href="#findtag" title="Permalink to this headline">¶</a></h4>
<p>Find all the elements that are descendants of the current list of elements
which have a given tag name and return a new <em>html object</em>.  If no elements
are found, a <em>html object</em> with an empty list of elements is returned.</p>
<p>Usage:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">list</span> <span class="o">=</span> <span class="nx">doc</span><span class="p">.</span><span class="nx">findTag</span><span class="p">(</span><span class="nx">tagname</span><span class="p">);</span>
</pre></div>
</div>
<p>Where <code class="docutils literal notranslate"><span class="pre">tagname</span></code> is the name of the HTML tag of the element to be selected
(e.g.  “div”).</p>
<p>Example:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">html</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">&quot;rampart-html&quot;</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">mydoc</span> <span class="o">=</span> <span class="nx">html</span><span class="p">.</span><span class="nx">newDocument</span><span class="p">(</span><span class="nb">document</span><span class="p">,</span> <span class="nx">options</span><span class="p">);</span>

<span class="cm">/* get a list of all the divs in the document */</span>
<span class="kd">var</span> <span class="nx">alldivs</span> <span class="o">=</span> <span class="nx">mydoc</span><span class="p">.</span><span class="nx">findTag</span><span class="p">(</span><span class="s2">&quot;div&quot;</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="findattr">
<h4>findAttr<a class="headerlink" href="#findattr" title="Permalink to this headline">¶</a></h4>
<p>Find all the elements that are descendants of the current list
of elements which have a given attribute and return a new <em>html object</em>.</p>
<p>Usage:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">list</span> <span class="o">=</span> <span class="nx">doc</span><span class="p">.</span><span class="nx">findAttr</span><span class="p">(</span><span class="nx">attrname</span><span class="p">);</span>
</pre></div>
</div>
<p>Where <code class="docutils literal notranslate"><span class="pre">attrname</span></code> is the name of the attribute in the element to be selected (e.g. “id”).</p>
<p>Additionally, <code class="docutils literal notranslate"><span class="pre">attrname</span></code> can specify a value by using <code class="docutils literal notranslate"><span class="pre">attr=val</span></code>
syntax.</p>
<p>Example:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">html</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">&quot;rampart-html&quot;</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">mydoc</span> <span class="o">=</span> <span class="nx">html</span><span class="p">.</span><span class="nx">newDocument</span><span class="p">(</span><span class="nb">document</span><span class="p">,</span> <span class="nx">options</span><span class="p">);</span>

<span class="cm">/* get a list of all the elements with a href in the element */</span>
<span class="kd">var</span> <span class="nx">allhrefs</span> <span class="o">=</span> <span class="nx">mydoc</span><span class="p">.</span><span class="nx">findAttr</span><span class="p">(</span><span class="s2">&quot;href&quot;</span><span class="p">);</span>

<span class="cm">/* get a list consisting of the element(s) with the attr &#39;id = &quot;maindiv&quot;` */</span>
<span class="kd">var</span> <span class="nx">maindiv</span> <span class="o">=</span> <span class="nx">mydoc</span><span class="p">.</span><span class="nx">findAttr</span><span class="p">(</span><span class="s2">&quot;id=maindiv&quot;</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="findclass">
<h4>findClass<a class="headerlink" href="#findclass" title="Permalink to this headline">¶</a></h4>
<p>Find all the elements that are descendants of the current list of elements
which belong to the named class and return a new <em>html object</em>.</p>
<p>Usage:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">list</span> <span class="o">=</span> <span class="nx">doc</span><span class="p">.</span><span class="nx">findClass</span><span class="p">(</span><span class="nx">classname</span><span class="p">);</span>
</pre></div>
</div>
<p>Where <code class="docutils literal notranslate"><span class="pre">classname</span></code> is the name of the HTML tag to be selected
(e.g. if an element has the attribute <code class="docutils literal notranslate"><span class="pre">class=&quot;foo1</span> <span class="pre">bar2&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">classname</span></code>
of <code class="docutils literal notranslate"><span class="pre">bar2</span></code> would select the element).</p>
<p>Example:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">html</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">&quot;rampart-html&quot;</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">mydoc</span> <span class="o">=</span> <span class="nx">html</span><span class="p">.</span><span class="nx">newDocument</span><span class="p">(</span><span class="nb">document</span><span class="p">,</span> <span class="nx">options</span><span class="p">);</span>

<span class="cm">/* get a list of all the elements in the document</span>
<span class="cm">   which belong to the &quot;foo1&quot; class              */</span>
<span class="kd">var</span> <span class="nx">alldivs</span> <span class="o">=</span> <span class="nx">mydoc</span><span class="p">.</span><span class="nx">findClass</span><span class="p">(</span><span class="s2">&quot;foo1&quot;</span><span class="p">);</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="output-from-elements">
<h3>Output from Elements<a class="headerlink" href="#output-from-elements" title="Permalink to this headline">¶</a></h3>
<div class="section" id="getelement">
<h4>getElement<a class="headerlink" href="#getelement" title="Permalink to this headline">¶</a></h4>
<p>Return an <span class="green">Array</span> of <span class="green">Strings</span> containing the opening tag for
each of the given elements in the <em>html object</em>.  No children are returned.</p>
<p>Example:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">html</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">&quot;rampart-html&quot;</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">doc</span> <span class="o">=</span> <span class="nx">html</span><span class="p">.</span><span class="nx">newDocument</span><span class="p">(</span>
    <span class="s1">&#39;&lt;div class=&quot;myclass&quot;&gt;one&lt;/div&gt;&lt;div&gt;two&lt;/div&gt;&#39;</span> <span class="o">+</span>
    <span class="s1">&#39;&lt;div class=&quot;myclass&quot;&gt;three&lt;/div&gt;&lt;div&gt;four&lt;/div&gt;&#39;</span> <span class="o">+</span>
    <span class="s1">&#39;&lt;div class=&quot;myclass&quot;&gt;five&lt;/div&gt;&#39;</span>
<span class="p">);</span>

<span class="kd">var</span> <span class="nx">mytags</span> <span class="o">=</span> <span class="nx">doc</span><span class="p">.</span><span class="nx">findTag</span><span class="p">(</span><span class="s2">&quot;div&quot;</span><span class="p">).</span><span class="nx">getElement</span><span class="p">();</span>

<span class="nx">rampart</span><span class="p">.</span><span class="nx">utils</span><span class="p">.</span><span class="nx">printf</span><span class="p">(</span><span class="s2">&quot;%3J\n&quot;</span><span class="p">,</span> <span class="nx">mytags</span><span class="p">);</span>

<span class="cm">/* expected output:</span>

<span class="cm">[</span>
<span class="cm">   &quot;&lt;div class=\&quot;myclass\&quot;&gt;&quot;,</span>
<span class="cm">   &quot;&lt;div&gt;&quot;,</span>
<span class="cm">   &quot;&lt;div class=\&quot;myclass\&quot;&gt;&quot;,</span>
<span class="cm">   &quot;&lt;div&gt;&quot;,</span>
<span class="cm">   &quot;&lt;div class=\&quot;myclass\&quot;&gt;&quot;</span>
<span class="cm">]</span>

<span class="cm">*/</span>
</pre></div>
</div>
</div>
<div class="section" id="getelementname">
<h4>getElementName<a class="headerlink" href="#getelementname" title="Permalink to this headline">¶</a></h4>
<p>Return an <span class="green">Array</span> of <span class="green">Strings</span> containing the opening tag
<strong>name</strong> for each of the given elements in the <em>html object</em>.</p>
<p>Example:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">html</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">&quot;rampart-html&quot;</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">doc</span> <span class="o">=</span> <span class="nx">html</span><span class="p">.</span><span class="nx">newDocument</span><span class="p">(</span>
    <span class="s1">&#39;&lt;div class=&quot;myclass&quot;&gt;one&lt;/div&gt;&lt;div&gt;two&lt;/div&gt;&#39;</span> <span class="o">+</span>
    <span class="s1">&#39;&lt;div class=&quot;myclass&quot;&gt;three&lt;/div&gt;&lt;div&gt;four&lt;/div&gt;&#39;</span> <span class="o">+</span>
    <span class="s1">&#39;&lt;div class=&quot;myclass&quot;&gt;five&lt;/div&gt;&#39;</span>
<span class="p">);</span>

<span class="kd">var</span> <span class="nx">mytags</span> <span class="o">=</span> <span class="nx">doc</span><span class="p">.</span><span class="nx">findTag</span><span class="p">(</span><span class="s2">&quot;div&quot;</span><span class="p">).</span><span class="nx">getElementName</span><span class="p">();</span>

<span class="nx">rampart</span><span class="p">.</span><span class="nx">utils</span><span class="p">.</span><span class="nx">printf</span><span class="p">(</span><span class="s2">&quot;%3J\n&quot;</span><span class="p">,</span> <span class="nx">mytags</span><span class="p">);</span>

<span class="cm">/* expected output:</span>

<span class="cm">[</span>
<span class="cm">   &quot;div&quot;,</span>
<span class="cm">   &quot;div&quot;,</span>
<span class="cm">   &quot;div&quot;,</span>
<span class="cm">   &quot;div&quot;,</span>
<span class="cm">   &quot;div&quot;</span>
<span class="cm">]</span>

<span class="cm">*/</span>
</pre></div>
</div>
</div>
<div class="section" id="getattr">
<h4>getAttr<a class="headerlink" href="#getattr" title="Permalink to this headline">¶</a></h4>
<p>Return an <span class="green">Array</span> of <span class="green">Strings</span> containing the attribute value of the provided
attribute name for each of the given elements in the <em>html object</em>.</p>
<p>Example:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">html</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">&quot;rampart-html&quot;</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">doc</span> <span class="o">=</span> <span class="nx">html</span><span class="p">.</span><span class="nx">newDocument</span><span class="p">(</span>
    <span class="s1">&#39;&lt;div title=&quot;div1&quot;&gt;one&lt;/div&gt;&lt;div&gt;two&lt;/div&gt;&#39;</span> <span class="o">+</span>
    <span class="s1">&#39;&lt;div title=&quot;div3&quot;&gt;three&lt;/div&gt;&lt;div&gt;four&lt;/div&gt;&#39;</span> <span class="o">+</span>
    <span class="s1">&#39;&lt;div title=&quot;div5&quot;&gt;five&lt;/div&gt;&#39;</span>
<span class="p">);</span>

<span class="kd">var</span> <span class="nx">mytags</span> <span class="o">=</span> <span class="nx">doc</span><span class="p">.</span><span class="nx">findTag</span><span class="p">(</span><span class="s2">&quot;div&quot;</span><span class="p">).</span><span class="nx">getAttr</span><span class="p">(</span><span class="s1">&#39;title&#39;</span><span class="p">);</span>

<span class="nx">rampart</span><span class="p">.</span><span class="nx">utils</span><span class="p">.</span><span class="nx">printf</span><span class="p">(</span><span class="s2">&quot;%3J\n&quot;</span><span class="p">,</span> <span class="nx">mytags</span><span class="p">);</span>

<span class="cm">/* expected output:</span>

<span class="cm">[</span>
<span class="cm">   &quot;div1&quot;,</span>
<span class="cm">   &quot;&quot;,</span>
<span class="cm">   &quot;div3&quot;,</span>
<span class="cm">   &quot;&quot;,</span>
<span class="cm">   &quot;div5&quot;</span>
<span class="cm">]</span>

<span class="cm">*/</span>
</pre></div>
</div>
</div>
<div class="section" id="getallattr">
<h4>getAllAttr<a class="headerlink" href="#getallattr" title="Permalink to this headline">¶</a></h4>
<p>Return an <span class="green">Array</span> of <span class="green">Objects</span>, each containing attribute name/value pairs,
for each of the given elements in the <em>html object</em>.</p>
<p>Example:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">html</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">&quot;rampart-html&quot;</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">doc</span> <span class="o">=</span> <span class="nx">html</span><span class="p">.</span><span class="nx">newDocument</span><span class="p">(</span>
    <span class="s1">&#39;&lt;div title=&quot;div1&quot;&gt;one&lt;/div&gt;&lt;div class=&quot;myclass&quot;&gt;two&lt;/div&gt;&#39;</span> <span class="o">+</span>
    <span class="s1">&#39;&lt;div title=&quot;div3&quot; class=&quot;myclass&quot;&gt;three&lt;/div&gt;&lt;div&gt;four&lt;/div&gt;&#39;</span> <span class="o">+</span>
    <span class="s1">&#39;&lt;div title=&quot;div5&quot;&gt;five&lt;/div&gt;&#39;</span>
<span class="p">);</span>

<span class="kd">var</span> <span class="nx">mytags</span> <span class="o">=</span> <span class="nx">doc</span><span class="p">.</span><span class="nx">findTag</span><span class="p">(</span><span class="s2">&quot;div&quot;</span><span class="p">).</span><span class="nx">getAllAttr</span><span class="p">();</span>

<span class="nx">rampart</span><span class="p">.</span><span class="nx">utils</span><span class="p">.</span><span class="nx">printf</span><span class="p">(</span><span class="s2">&quot;%3J\n&quot;</span><span class="p">,</span> <span class="nx">mytags</span><span class="p">);</span>

<span class="cm">/* expected output:</span>

<span class="cm">[</span>
<span class="cm">   {</span>
<span class="cm">      &quot;title&quot;: &quot;div1&quot;</span>
<span class="cm">   },</span>
<span class="cm">   {</span>
<span class="cm">      &quot;class&quot;: &quot;myclass&quot;</span>
<span class="cm">   },</span>
<span class="cm">   {</span>
<span class="cm">      &quot;title&quot;: &quot;div3&quot;,</span>
<span class="cm">      &quot;class&quot;: &quot;myclass&quot;</span>
<span class="cm">   },</span>
<span class="cm">   {},</span>
<span class="cm">   {</span>
<span class="cm">      &quot;title&quot;: &quot;div5&quot;</span>
<span class="cm">   }</span>
<span class="cm">]</span>

<span class="cm">*/</span>
</pre></div>
</div>
</div>
<div class="section" id="tohtml">
<h4>toHtml<a class="headerlink" href="#tohtml" title="Permalink to this headline">¶</a></h4>
<p>Return an <span class="green">Array</span> of <span class="green">Strings</span>, each string the HTML of each of the given
elements and their children.</p>
<p>Example:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">html</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">&quot;rampart-html&quot;</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">doc</span> <span class="o">=</span> <span class="nx">html</span><span class="p">.</span><span class="nx">newDocument</span><span class="p">(</span>
    <span class="s1">&#39;&lt;div title=&quot;div1&quot;&gt;one&lt;/div&gt;&lt;div&gt;two&lt;/div&gt;&#39;</span> <span class="o">+</span>
    <span class="s1">&#39;&lt;div title=&quot;div3&quot;&gt;three&lt;/div&gt;&lt;div&gt;four&lt;/div&gt;&#39;</span> <span class="o">+</span>
    <span class="s1">&#39;&lt;div title=&quot;div5&quot;&gt;five &lt;span&gt;six&lt;/span&gt;&lt;/div&gt;&#39;</span>
<span class="p">);</span>

<span class="kd">var</span> <span class="nx">mytags</span> <span class="o">=</span> <span class="nx">doc</span><span class="p">.</span><span class="nx">findTag</span><span class="p">(</span><span class="s2">&quot;div&quot;</span><span class="p">).</span><span class="nx">toHtml</span><span class="p">();</span>

<span class="nx">rampart</span><span class="p">.</span><span class="nx">utils</span><span class="p">.</span><span class="nx">printf</span><span class="p">(</span><span class="s2">&quot;%3J\n&quot;</span><span class="p">,</span> <span class="nx">mytags</span><span class="p">);</span>

<span class="cm">/* expected output:</span>

<span class="cm">[</span>
<span class="cm">   &quot;&lt;div title=\&quot;div1\&quot;&gt;one&lt;/div&gt;&quot;,</span>
<span class="cm">   &quot;&lt;div&gt;two&lt;/div&gt;&quot;,</span>
<span class="cm">   &quot;&lt;div title=\&quot;div3\&quot;&gt;three&lt;/div&gt;&quot;,</span>
<span class="cm">   &quot;&lt;div&gt;four&lt;/div&gt;&quot;,</span>
<span class="cm">   &quot;&lt;div title=\&quot;div5\&quot;&gt;five &lt;span&gt;six&lt;/span&gt;&lt;/div&gt;&quot;</span>
<span class="cm">]</span>

<span class="cm">*/</span>
</pre></div>
</div>
</div>
<div class="section" id="totext">
<h4>toText<a class="headerlink" href="#totext" title="Permalink to this headline">¶</a></h4>
<p>Return an <span class="green">Array</span> of <span class="green">Strings</span>, each string the plain text of each of the given
elements and their children.</p>
<p>Usage:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">tags</span> <span class="o">=</span> <span class="nx">hobj</span><span class="p">.</span><span class="nx">toHtml</span><span class="p">([</span><span class="nx">options</span><span class="p">]);</span>
</pre></div>
</div>
<p>Where:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">tags</span></code> is the return value.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">hobj</span></code> is an <em>html object</em> with 0 or more elements.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">options</span></code> is an <span class="green">Object</span> with the following setting:</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">concatenate</span></code> - a <span class="green">Boolean</span> if true, the function will return
a <span class="green">String</span> consisting of the concatenated output from each given
element.  Default is <code class="docutils literal notranslate"><span class="pre">false</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">imageAltText</span></code> - a <span class="green">Boolean</span> if true, alt text from images
will also be output.  Default is <code class="docutils literal notranslate"><span class="pre">true</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">metaDescription</span></code> - a <span class="green">Boolean</span> if true, text from the
<code class="docutils literal notranslate"><span class="pre">content</span></code> of an existing <code class="docutils literal notranslate"><span class="pre">&lt;meta</span> <span class="pre">name=&quot;description&quot;</span> <span class="pre">content=&quot;text&quot;&gt;</span></code>
will also be output.  Default is <code class="docutils literal notranslate"><span class="pre">true</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">metaKeywords</span></code> - a <span class="green">Boolean</span> if true, text from the
<code class="docutils literal notranslate"><span class="pre">content</span></code> of an existing <code class="docutils literal notranslate"><span class="pre">&lt;meta</span> <span class="pre">name=&quot;keywords&quot;</span> <span class="pre">content=&quot;text&quot;&gt;</span></code>
will also be output.  Default is <code class="docutils literal notranslate"><span class="pre">true</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">titleText</span></code> - a <span class="green">Boolean</span> if true, text from any element
which contains a <code class="docutils literal notranslate"><span class="pre">title</span></code> attribute will also be output.
Default is <code class="docutils literal notranslate"><span class="pre">false</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">aLinks</span></code> - a <span class="green">Boolean</span> if true, the <code class="docutils literal notranslate"><span class="pre">href</span></code> value from
<code class="docutils literal notranslate"><span class="pre">&lt;a&gt;</span></code> tags will be output after the enclosed text in parentheses.
Default is <code class="docutils literal notranslate"><span class="pre">false</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">enumerateLists</span></code> - a <span class="green">Boolean</span> if true, text in <code class="docutils literal notranslate"><span class="pre">&lt;li&gt;</span></code> tags
will be prepended with an asterisk <code class="docutils literal notranslate"><span class="pre">*</span></code> for unordered lists
(<code class="docutils literal notranslate"><span class="pre">&lt;ul&gt;</span></code>) or a sequential number followed by a period (e.g. <code class="docutils literal notranslate"><span class="pre">1.</span></code>) for ordered
lists (<code class="docutils literal notranslate"><span class="pre">&lt;ol&gt;</span></code>). Text following <code class="docutils literal notranslate"><span class="pre">&lt;dd&gt;</span></code> tags will also be indented four spaces.
Default is <code class="docutils literal notranslate"><span class="pre">true</span></code>.</p></li>
</ul>
</div></blockquote>
</li>
</ul>
<p>Example:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">html</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">&quot;rampart-html&quot;</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">doc</span> <span class="o">=</span> <span class="nx">html</span><span class="p">.</span><span class="nx">newDocument</span><span class="p">(</span>
    <span class="s1">&#39;&lt;meta name=&quot;description&quot; content=&quot;my awesome story as told by me&quot;&gt;&#39;</span> <span class="o">+</span>
    <span class="s1">&#39;&lt;meta name=&quot;keywords&quot; content=&quot;awesome adventure love happiness redemption&quot;&gt;&#39;</span> <span class="o">+</span>
    <span class="s1">&#39;&lt;title&gt;My Awesome Story&lt;/title&gt;&#39;</span> <span class="o">+</span>
    <span class="s1">&#39;&lt;h1&gt;Table of Contents&lt;/h1&gt;&lt;ol&gt;&lt;li&gt;Chapter 1&lt;/li&gt;&lt;li&gt;Chapter 2&lt;/li&gt;&lt;/ol&gt;&#39;</span> <span class="o">+</span>
    <span class="s1">&#39;&lt;h2 title=&quot;Chapter 1&quot;&gt;I was born&lt;/h2&gt;&lt;img src=&quot;myimage.jpg&quot; alt=&quot;me as a baby&quot;&gt;&#39;</span> <span class="o">+</span>
    <span class="s1">&#39;&lt;div&gt;I was born a poor ...&lt;/div&gt;&#39;</span> <span class="o">+</span>
    <span class="s1">&#39;&lt;h2 title=&quot;Chapter 2&quot;&gt;I left home&lt;/h2&gt;&lt;img src=&quot;myimage2.jpg&quot; alt=&quot;me at 21&quot;&gt;&#39;</span> <span class="o">+</span>
    <span class="s1">&#39;&lt;div&gt;I got a job guessing weights at &lt;a href=&quot;http://example.com/&quot;&gt;a carnival&lt;/a&gt;...&lt;/div&gt;&#39;</span>
<span class="p">);</span>

<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">doc</span><span class="p">.</span><span class="nx">toText</span><span class="p">({</span><span class="nx">aLinks</span><span class="o">:</span><span class="kc">true</span><span class="p">,</span> <span class="nx">titleText</span><span class="o">:</span><span class="kc">true</span><span class="p">})[</span><span class="mi">0</span><span class="p">]);</span>

<span class="cm">/* expected output:</span>

<span class="cm">my awesome story as told by me</span>

<span class="cm">awesome adventure love happiness redemption</span>
<span class="cm">My Awesome Story</span>
<span class="cm">Table of Contents</span>
<span class="cm">1. Chapter 1</span>
<span class="cm">2. Chapter 2</span>
<span class="cm"> Chapter 1 I was born</span>
<span class="cm"> me as a baby</span>
<span class="cm">I was born a poor ...</span>
<span class="cm"> Chapter 2 I left home</span>
<span class="cm"> me at 21</span>
<span class="cm">I got a job guessing weights at a carnival  (http://example.com/)...</span>

<span class="cm">*/</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="traversing-html-tree">
<h3>Traversing HTML tree<a class="headerlink" href="#traversing-html-tree" title="Permalink to this headline">¶</a></h3>
<div class="section" id="next">
<h4>next<a class="headerlink" href="#next" title="Permalink to this headline">¶</a></h4>
<p>Given the current list of elements, return a new <em>html object</em> with a list
consisting of the next sibling element of each, if one exists.</p>
<p>Example:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">html</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">&quot;rampart-html&quot;</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">doc</span> <span class="o">=</span> <span class="nx">html</span><span class="p">.</span><span class="nx">newDocument</span><span class="p">(</span>
    <span class="s1">&#39;&lt;div class=&quot;myclass&quot;&gt;one&lt;/div&gt;&lt;div&gt;two&lt;/div&gt;&#39;</span> <span class="o">+</span>
    <span class="s1">&#39;&lt;div class=&quot;myclass&quot;&gt;three&lt;/div&gt;&lt;div&gt;four&lt;/div&gt;&#39;</span> <span class="o">+</span>
    <span class="s1">&#39;&lt;div class=&quot;myclass&quot;&gt;five&lt;/div&gt;&#39;</span>
<span class="p">);</span>

<span class="kd">var</span> <span class="nx">mydivs</span> <span class="o">=</span> <span class="nx">doc</span><span class="p">.</span><span class="nx">findClass</span><span class="p">(</span><span class="s2">&quot;myclass&quot;</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">nextdivs</span> <span class="o">=</span> <span class="nx">mydivs</span><span class="p">.</span><span class="nx">next</span><span class="p">();</span>

<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">nextdivs</span><span class="p">.</span><span class="nx">toHtml</span><span class="p">());</span>

<span class="cm">/* expected output:</span>

<span class="cm">[&quot;&lt;div&gt;two&lt;/div&gt;&quot;,&quot;&lt;div&gt;four&lt;/div&gt;&quot;]</span>

<span class="cm">*/</span>
</pre></div>
</div>
</div>
<div class="section" id="prev">
<h4>prev<a class="headerlink" href="#prev" title="Permalink to this headline">¶</a></h4>
<p>Given the current list of elements, return a new <em>html object</em> with a list
consisting of the previous sibling element of each, if one exists.</p>
<p>Example:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">html</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">&quot;rampart-html&quot;</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">doc</span> <span class="o">=</span> <span class="nx">html</span><span class="p">.</span><span class="nx">newDocument</span><span class="p">(</span>
    <span class="s1">&#39;&lt;span&gt;one&lt;/span&gt;&lt;div class=&quot;myclass&quot;&gt;two&lt;/div&gt;&#39;</span> <span class="o">+</span>
    <span class="s1">&#39;&lt;span&gt;three&lt;/span&gt;&lt;div class=&quot;myclass&quot;&gt;four&lt;/div&gt;&#39;</span>
<span class="p">);</span>

<span class="kd">var</span> <span class="nx">mydivs</span> <span class="o">=</span> <span class="nx">doc</span><span class="p">.</span><span class="nx">findClass</span><span class="p">(</span><span class="s2">&quot;myclass&quot;</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">prevels</span> <span class="o">=</span> <span class="nx">mydivs</span><span class="p">.</span><span class="nx">prev</span><span class="p">();</span>

<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">prevels</span><span class="p">.</span><span class="nx">toHtml</span><span class="p">());</span>

<span class="cm">/* expected output:</span>

<span class="cm">[&quot;&lt;span&gt;one&lt;/span&gt;&quot;,&quot;&lt;span&gt;three&lt;/span&gt;&quot;]</span>

<span class="cm">*/</span>
</pre></div>
</div>
</div>
<div class="section" id="children">
<h4>children<a class="headerlink" href="#children" title="Permalink to this headline">¶</a></h4>
<p>Given the current list of elements, return a new <em>html object</em> with a list
consisting of the direct descendant elements of each, if any exists.</p>
<p>Example:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">html</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">&quot;rampart-html&quot;</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">doc</span> <span class="o">=</span> <span class="nx">html</span><span class="p">.</span><span class="nx">newDocument</span><span class="p">(</span>
    <span class="s1">&#39;&lt;div class=&quot;myclass&quot;&gt;&lt;span&gt;one&lt;/span&gt;&lt;span&gt;two&lt;/span&gt;&lt;/div&gt;&#39;</span> <span class="o">+</span>
    <span class="s1">&#39;&lt;div class=&quot;myclass&quot;&gt;&lt;span&gt;three&lt;/span&gt;&lt;span&gt;four&lt;/span&gt;&lt;/div&gt;&#39;</span>
<span class="p">);</span>

<span class="kd">var</span> <span class="nx">mydivs</span> <span class="o">=</span> <span class="nx">doc</span><span class="p">.</span><span class="nx">findClass</span><span class="p">(</span><span class="s2">&quot;myclass&quot;</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">children</span> <span class="o">=</span> <span class="nx">mydivs</span><span class="p">.</span><span class="nx">children</span><span class="p">();</span>

<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">children</span><span class="p">.</span><span class="nx">toHtml</span><span class="p">());</span>

<span class="cm">/* expected output:</span>

<span class="cm">[&quot;&lt;span&gt;one&lt;/span&gt;&quot;,&quot;&lt;span&gt;two&lt;/span&gt;&quot;,&quot;&lt;span&gt;three&lt;/span&gt;&quot;,&quot;&lt;span&gt;four&lt;/span&gt;&quot;]</span>

<span class="cm">*/</span>
</pre></div>
</div>
</div>
<div class="section" id="parent">
<h4>parent<a class="headerlink" href="#parent" title="Permalink to this headline">¶</a></h4>
<p>Given the current list of elements, return a new <em>html object</em> with a list
consisting of the direct ancestor elements of each, if any exists.</p>
<p>Example:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">html</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">&quot;rampart-html&quot;</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">doc</span> <span class="o">=</span> <span class="nx">html</span><span class="p">.</span><span class="nx">newDocument</span><span class="p">(</span>
    <span class="s1">&#39;&lt;div class=&quot;myclass&quot;&gt;&lt;span&gt;one&lt;/span&gt;&lt;span&gt;two&lt;/span&gt;&lt;/div&gt;&#39;</span> <span class="o">+</span>
    <span class="s1">&#39;&lt;div class=&quot;myclass&quot;&gt;&lt;span&gt;three&lt;/span&gt;&lt;span&gt;four&lt;/span&gt;&lt;/div&gt;&#39;</span>
<span class="p">);</span>

<span class="kd">var</span> <span class="nx">myspans</span> <span class="o">=</span> <span class="nx">doc</span><span class="p">.</span><span class="nx">findTag</span><span class="p">(</span><span class="s2">&quot;span&quot;</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">parents</span> <span class="o">=</span> <span class="nx">myspans</span><span class="p">.</span><span class="nx">parent</span><span class="p">();</span>

<span class="nx">rampart</span><span class="p">.</span><span class="nx">utils</span><span class="p">.</span><span class="nx">printf</span><span class="p">(</span><span class="s2">&quot;%3J\n&quot;</span><span class="p">,</span> <span class="nx">parents</span><span class="p">.</span><span class="nx">toHtml</span><span class="p">());</span>

<span class="cm">/* expected output:</span>

<span class="cm">[</span>
<span class="cm">   &quot;&lt;div class=\&quot;myclass\&quot;&gt;&lt;span&gt;one&lt;/span&gt;&lt;span&gt;two&lt;/span&gt;&lt;/div&gt;&quot;,</span>
<span class="cm">   &quot;&lt;div class=\&quot;myclass\&quot;&gt;&lt;span&gt;three&lt;/span&gt;&lt;span&gt;four&lt;/span&gt;&lt;/div&gt;&quot;</span>
<span class="cm">]</span>

<span class="cm">*/</span>
</pre></div>
</div>
<p>Note that even though there are four elements in <code class="docutils literal notranslate"><span class="pre">myspans</span></code>, <code class="docutils literal notranslate"><span class="pre">parent()</span></code>,
like all <em>html object</em> functions, returns a unique list.</p>
</div>
<div class="section" id="getdocument">
<h4>getDocument<a class="headerlink" href="#getdocument" title="Permalink to this headline">¶</a></h4>
<p>Given an <em>html object</em> return the <em>top level html object</em>.</p>
<p>Example:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">html</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">&quot;rampart-html&quot;</span><span class="p">);</span>

<span class="cm">/* var doc is our top level object */</span>
<span class="kd">var</span> <span class="nx">doc</span> <span class="o">=</span> <span class="nx">html</span><span class="p">.</span><span class="nx">newDocument</span><span class="p">(</span>
    <span class="s1">&#39;&lt;span&gt;one&lt;/span&gt;&lt;div class=&quot;myclass&quot;&gt;two&lt;/div&gt;&#39;</span> <span class="o">+</span>
    <span class="s1">&#39;&lt;span&gt;three&lt;/span&gt;&lt;div class=&quot;myclass&quot;&gt;four&lt;/div&gt;&#39;</span>
<span class="p">);</span>

<span class="kd">var</span> <span class="nx">spans</span> <span class="o">=</span> <span class="nx">doc</span><span class="p">.</span><span class="nx">findTag</span><span class="p">(</span><span class="s2">&quot;span&quot;</span><span class="p">);</span>

<span class="cm">/* demonstrate that getDocument returns the top level object */</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span> <span class="p">(</span><span class="nx">doc</span> <span class="o">==</span> <span class="nx">spans</span><span class="p">.</span><span class="nx">getDocument</span><span class="p">())</span> <span class="p">);</span>

<span class="cm">/* expected output:</span>

<span class="cm">true</span>

<span class="cm">*/</span>
</pre></div>
</div>
<p>In the above example, the <a class="reference internal" href="#prettyprint">prettyPrint</a> function could be accessed from
<code class="docutils literal notranslate"><span class="pre">spans</span></code> with the following: <code class="docutils literal notranslate"><span class="pre">spans.getDocument().prettyPrint()</span></code>.</p>
</div>
</div>
<div class="section" id="manipulating-the-list-of-elements">
<h3>Manipulating the List of Elements<a class="headerlink" href="#manipulating-the-list-of-elements" title="Permalink to this headline">¶</a></h3>
<div class="section" id="filtertag">
<h4>filterTag<a class="headerlink" href="#filtertag" title="Permalink to this headline">¶</a></h4>
<p>Reduce the current list of elements to only include elements which have a
given tag name and return a new <em>html object</em>.</p>
<p>Example:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">html</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">&quot;rampart-html&quot;</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">doc</span> <span class="o">=</span> <span class="nx">html</span><span class="p">.</span><span class="nx">newDocument</span><span class="p">(</span>
    <span class="s1">&#39;&lt;div  class=&quot;myclass&quot;&gt;one&lt;/div&gt;&lt;span&gt;two&lt;/span&gt;&#39;</span> <span class="o">+</span>
    <span class="s1">&#39;&lt;span class=&quot;myclass&quot;&gt;three&lt;/span&gt;&lt;div&gt;four&lt;/div&gt;&#39;</span>
<span class="p">);</span>

<span class="kd">var</span> <span class="nx">els</span> <span class="o">=</span> <span class="nx">doc</span><span class="p">.</span><span class="nx">findTag</span><span class="p">(</span><span class="s1">&#39;body&#39;</span><span class="p">).</span><span class="nx">children</span><span class="p">();</span>

<span class="kd">var</span> <span class="nx">divs</span> <span class="o">=</span> <span class="nx">els</span><span class="p">.</span><span class="nx">filterTag</span><span class="p">(</span><span class="s1">&#39;div&#39;</span><span class="p">);</span>

<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">divs</span><span class="p">.</span><span class="nx">toHtml</span><span class="p">());</span>

<span class="cm">/* expected output:</span>

<span class="cm">[&quot;&lt;div class=\&quot;myclass\&quot;&gt;one&lt;/div&gt;&quot;,&quot;&lt;div&gt;four&lt;/div&gt;&quot;]</span>

<span class="cm">*/</span>
</pre></div>
</div>
</div>
<div class="section" id="filterattr">
<h4>filterAttr<a class="headerlink" href="#filterattr" title="Permalink to this headline">¶</a></h4>
<p>Reduce the current list of elements to only include elements which have a
given attribute and return a new <em>html object</em>.</p>
<p>Example:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">html</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">&quot;rampart-html&quot;</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">doc</span> <span class="o">=</span> <span class="nx">html</span><span class="p">.</span><span class="nx">newDocument</span><span class="p">(</span>
    <span class="s1">&#39;&lt;div id=&quot;mydiv&quot; class=&quot;myclass&quot;&gt;one&lt;/div&gt;&lt;span&gt;two&lt;/span&gt;&#39;</span> <span class="o">+</span>
    <span class="s1">&#39;&lt;span class=&quot;myclass&quot;&gt;three&lt;/span&gt;&lt;div&gt;four&lt;/div&gt;&#39;</span>
<span class="p">);</span>

<span class="kd">var</span> <span class="nx">els</span> <span class="o">=</span> <span class="nx">doc</span><span class="p">.</span><span class="nx">findTag</span><span class="p">(</span><span class="s1">&#39;body&#39;</span><span class="p">).</span><span class="nx">children</span><span class="p">();</span>

<span class="kd">var</span> <span class="nx">mydiv</span> <span class="o">=</span> <span class="nx">els</span><span class="p">.</span><span class="nx">filterAttr</span><span class="p">(</span><span class="s1">&#39;id=mydiv&#39;</span><span class="p">);</span>

<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">mydiv</span><span class="p">.</span><span class="nx">toHtml</span><span class="p">());</span>

<span class="cm">/* expected output:</span>

<span class="cm">[&quot;&lt;div id=\&quot;mydiv\&quot; class=\&quot;myclass\&quot;&gt;one&lt;/div&gt;&quot;]</span>

<span class="cm">*/</span>
</pre></div>
</div>
</div>
<div class="section" id="filterclass">
<h4>filterClass<a class="headerlink" href="#filterclass" title="Permalink to this headline">¶</a></h4>
<p>Reduce the current list of elements to only include elements which belong to
a given class and return a new <em>html object</em>.</p>
<p>Example:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">html</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">&quot;rampart-html&quot;</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">doc</span> <span class="o">=</span> <span class="nx">html</span><span class="p">.</span><span class="nx">newDocument</span><span class="p">(</span>
    <span class="s1">&#39;&lt;div id=&quot;mydiv&quot; class=&quot;myclass&quot;&gt;one&lt;/div&gt;&lt;span&gt;two&lt;/span&gt;&#39;</span> <span class="o">+</span>
    <span class="s1">&#39;&lt;span class=&quot;myclass&quot;&gt;three&lt;/span&gt;&lt;div&gt;four&lt;/div&gt;&#39;</span>
<span class="p">);</span>

<span class="kd">var</span> <span class="nx">els</span> <span class="o">=</span> <span class="nx">doc</span><span class="p">.</span><span class="nx">findTag</span><span class="p">(</span><span class="s1">&#39;body&#39;</span><span class="p">).</span><span class="nx">children</span><span class="p">();</span>

<span class="nx">els</span> <span class="o">=</span> <span class="nx">els</span><span class="p">.</span><span class="nx">filterClass</span><span class="p">(</span><span class="s1">&#39;myclass&#39;</span><span class="p">);</span>

<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">els</span><span class="p">.</span><span class="nx">toHtml</span><span class="p">());</span>

<span class="cm">/* expected output:</span>

<span class="cm">[&quot;&lt;div id=\&quot;mydiv\&quot; class=\&quot;myclass\&quot;&gt;one&lt;/div&gt;&quot;,&quot;&lt;span class=\&quot;myclass\&quot;&gt;three&lt;/span&gt;&quot;]</span>

<span class="cm">*/</span>
</pre></div>
</div>
</div>
<div class="section" id="slice">
<h4>slice<a class="headerlink" href="#slice" title="Permalink to this headline">¶</a></h4>
<p>Reduce the current list of elements to only include a subset of the list
and return a new <em>html object</em>. Arguments are the same as
<a class="reference external" href="https://www.w3schools.com/jsref/jsref_slice_array.asp">Array.slice</a></p>
<p>Example:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">html</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">&quot;rampart-html&quot;</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">doc</span> <span class="o">=</span> <span class="nx">html</span><span class="p">.</span><span class="nx">newDocument</span><span class="p">(</span>
    <span class="s1">&#39;&lt;span&gt;zero&lt;/span&gt;&lt;span&gt;one&lt;/span&gt;&lt;span&gt;two&lt;/span&gt;&#39;</span> <span class="o">+</span>
    <span class="s1">&#39;&lt;span&gt;three&lt;/span&gt;&lt;span&gt;four&lt;/span&gt;&lt;span&gt;five&lt;/span&gt;&#39;</span>
<span class="p">);</span>

<span class="kd">var</span> <span class="nx">els</span> <span class="o">=</span> <span class="nx">doc</span><span class="p">.</span><span class="nx">findTag</span><span class="p">(</span><span class="s1">&#39;body&#39;</span><span class="p">).</span><span class="nx">children</span><span class="p">();</span>

<span class="nx">els</span> <span class="o">=</span> <span class="nx">els</span><span class="p">.</span><span class="nx">slice</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">);</span>

<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">els</span><span class="p">.</span><span class="nx">toHtml</span><span class="p">());</span>

<span class="cm">/* expected output:</span>

<span class="cm">[&quot;&lt;span&gt;two&lt;/span&gt;&quot;,&quot;&lt;span&gt;three&lt;/span&gt;&quot;]</span>

<span class="cm">*/</span>
</pre></div>
</div>
</div>
<div class="section" id="eq">
<h4>eq<a class="headerlink" href="#eq" title="Permalink to this headline">¶</a></h4>
<p>Reduce the current list of elements to only include a single element
at the given index and return a new <em>html object</em>.</p>
<p>Example:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">html</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">&quot;rampart-html&quot;</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">doc</span> <span class="o">=</span> <span class="nx">html</span><span class="p">.</span><span class="nx">newDocument</span><span class="p">(</span>
    <span class="s1">&#39;&lt;span&gt;zero&lt;/span&gt;&lt;span&gt;one&lt;/span&gt;&lt;span&gt;two&lt;/span&gt;&#39;</span> <span class="o">+</span>
    <span class="s1">&#39;&lt;span&gt;three&lt;/span&gt;&lt;span&gt;four&lt;/span&gt;&lt;span&gt;five&lt;/span&gt;&#39;</span>
<span class="p">);</span>

<span class="kd">var</span> <span class="nx">els</span> <span class="o">=</span> <span class="nx">doc</span><span class="p">.</span><span class="nx">findTag</span><span class="p">(</span><span class="s1">&#39;body&#39;</span><span class="p">).</span><span class="nx">children</span><span class="p">();</span>

<span class="kd">var</span> <span class="nx">el</span> <span class="o">=</span> <span class="nx">els</span><span class="p">.</span><span class="nx">eq</span><span class="p">(</span><span class="mi">2</span><span class="p">);</span>

<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">els</span><span class="p">.</span><span class="nx">toHtml</span><span class="p">());</span>

<span class="cm">/* expected output:</span>

<span class="cm">[&quot;&lt;span&gt;two&lt;/span&gt;&quot;]</span>

<span class="cm">*/</span>
</pre></div>
</div>
</div>
<div class="section" id="add">
<h4>add<a class="headerlink" href="#add" title="Permalink to this headline">¶</a></h4>
<p>Add to the given list of elements the elements in the provided <em>html object</em>
or <span class="green">String</span> and return a new <em>html object</em>.</p>
<p>Usage:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">newlist</span> <span class="o">=</span> <span class="nx">oldlist</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="nx">additions</span><span class="p">);</span>
</pre></div>
</div>
<p>Where</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">newlist</span></code> is the returned <em>html object</em>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">oldlist</span></code> is the <em>html object</em> with an array of elements to be appended.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">additions</span></code> is an <em>html object</em> or a <span class="green">String</span> of text or html
to be added to the list.</p></li>
</ul>
<p>Example:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">html</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">&quot;rampart-html&quot;</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">doc</span> <span class="o">=</span> <span class="nx">html</span><span class="p">.</span><span class="nx">newDocument</span><span class="p">(</span>
    <span class="s1">&#39;&lt;span&gt;one&lt;/span&gt;&lt;span&gt;two&lt;/span&gt;&lt;span&gt;three&lt;/span&gt;&#39;</span> <span class="o">+</span>
    <span class="s1">&#39;&lt;div&gt;four&lt;/div&gt;&lt;div&gt;five&lt;/div&gt;&lt;div&gt;six&lt;/div&gt;&#39;</span>
<span class="p">);</span>

<span class="kd">var</span> <span class="nx">spans</span> <span class="o">=</span> <span class="nx">doc</span><span class="p">.</span><span class="nx">findTag</span><span class="p">(</span><span class="s1">&#39;span&#39;</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">divs</span> <span class="o">=</span> <span class="nx">doc</span><span class="p">.</span><span class="nx">findTag</span><span class="p">(</span><span class="s1">&#39;div&#39;</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">newlist</span> <span class="o">=</span> <span class="nx">spans</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="nx">divs</span><span class="p">);</span>

<span class="nx">newlist</span> <span class="o">=</span> <span class="nx">newlist</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="s2">&quot;&lt;div&gt;seven&lt;/div&gt;&lt;div&gt;eight&lt;/div&gt;&quot;</span><span class="p">);</span>

<span class="nx">rampart</span><span class="p">.</span><span class="nx">utils</span><span class="p">.</span><span class="nx">printf</span><span class="p">(</span><span class="s2">&quot;%3J\n&quot;</span><span class="p">,</span> <span class="nx">newlist</span><span class="p">.</span><span class="nx">toHtml</span><span class="p">());</span>

<span class="cm">/* expected output:</span>

<span class="cm">[</span>
<span class="cm">   &quot;&lt;span&gt;one&lt;/span&gt;&quot;,</span>
<span class="cm">   &quot;&lt;span&gt;two&lt;/span&gt;&quot;,</span>
<span class="cm">   &quot;&lt;span&gt;three&lt;/span&gt;&quot;,</span>
<span class="cm">   &quot;&lt;div&gt;four&lt;/div&gt;&quot;,</span>
<span class="cm">   &quot;&lt;div&gt;five&lt;/div&gt;&quot;,</span>
<span class="cm">   &quot;&lt;div&gt;six&lt;/div&gt;&quot;,</span>
<span class="cm">   &quot;&lt;div&gt;seven&lt;/div&gt;&quot;,</span>
<span class="cm">   &quot;&lt;div&gt;eight&lt;/div&gt;&quot;</span>
<span class="cm">]</span>

<span class="cm">*/</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="testing-elements">
<h3>Testing Elements<a class="headerlink" href="#testing-elements" title="Permalink to this headline">¶</a></h3>
<div class="section" id="hastag">
<h4>hasTag<a class="headerlink" href="#hastag" title="Permalink to this headline">¶</a></h4>
<p>Test each element in the current list for a tag name. Returns an array of
<span class="green">Booleans</span>, one for each element.</p>
<p>Example:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">html</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">&quot;rampart-html&quot;</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">doc</span> <span class="o">=</span> <span class="nx">html</span><span class="p">.</span><span class="nx">newDocument</span><span class="p">(</span>
    <span class="s1">&#39;&lt;div  class=&quot;myclass&quot;&gt;one&lt;/div&gt;&lt;span&gt;two&lt;/span&gt;&#39;</span> <span class="o">+</span>
    <span class="s1">&#39;&lt;span class=&quot;myclass&quot;&gt;three&lt;/span&gt;&lt;div&gt;four&lt;/div&gt;&#39;</span>
<span class="p">);</span>

<span class="kd">var</span> <span class="nx">els</span> <span class="o">=</span> <span class="nx">doc</span><span class="p">.</span><span class="nx">findTag</span><span class="p">(</span><span class="s1">&#39;body&#39;</span><span class="p">).</span><span class="nx">children</span><span class="p">();</span>

<span class="kd">var</span> <span class="nx">isdiv</span> <span class="o">=</span> <span class="nx">els</span><span class="p">.</span><span class="nx">hasTag</span><span class="p">(</span><span class="s1">&#39;div&#39;</span><span class="p">);</span>

<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">isdiv</span><span class="p">);</span>

<span class="cm">/* expected output:</span>

<span class="cm">[true,false,false,true]</span>

<span class="cm">*/</span>
</pre></div>
</div>
</div>
<div class="section" id="hasattr">
<h4>hasAttr<a class="headerlink" href="#hasattr" title="Permalink to this headline">¶</a></h4>
<p>Test each element in the current list for the presence of an attribute.
Returns an array of booleans, one for each element.</p>
<p>Example:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">html</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">&quot;rampart-html&quot;</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">doc</span> <span class="o">=</span> <span class="nx">html</span><span class="p">.</span><span class="nx">newDocument</span><span class="p">(</span>
    <span class="s1">&#39;&lt;div id=&quot;someid&quot; class=&quot;myclass&quot;&gt;one&lt;/div&gt;&lt;span&gt;two&lt;/span&gt;&#39;</span> <span class="o">+</span>
    <span class="s1">&#39;&lt;span class=&quot;myclass&quot;&gt;three&lt;/span&gt;&lt;div id=&quot;myid&quot;&gt;four&lt;/div&gt;&#39;</span>
<span class="p">);</span>

<span class="kd">var</span> <span class="nx">els</span> <span class="o">=</span> <span class="nx">doc</span><span class="p">.</span><span class="nx">findTag</span><span class="p">(</span><span class="s1">&#39;body&#39;</span><span class="p">).</span><span class="nx">children</span><span class="p">();</span>

<span class="kd">var</span> <span class="nx">hasanid</span> <span class="o">=</span> <span class="nx">els</span><span class="p">.</span><span class="nx">hasAttr</span><span class="p">(</span><span class="s1">&#39;id&#39;</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">hasmyid</span> <span class="o">=</span> <span class="nx">els</span><span class="p">.</span><span class="nx">hasAttr</span><span class="p">(</span><span class="s1">&#39;id=myid&#39;</span><span class="p">);</span>

<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">hasanid</span><span class="p">);</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">hasmyid</span><span class="p">);</span>

<span class="cm">/* expected output:</span>

<span class="cm">[true,false,false,true]</span>
<span class="cm">[false,false,false,true]</span>

<span class="cm">*/</span>
</pre></div>
</div>
</div>
<div class="section" id="hasclass">
<h4>hasClass<a class="headerlink" href="#hasclass" title="Permalink to this headline">¶</a></h4>
<p>Test each element in the current list for a tag name. Returns an array of
booleans, one for each element.</p>
<p>Example:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">html</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">&quot;rampart-html&quot;</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">doc</span> <span class="o">=</span> <span class="nx">html</span><span class="p">.</span><span class="nx">newDocument</span><span class="p">(</span>
    <span class="s1">&#39;&lt;div  class=&quot;myclass&quot;&gt;one&lt;/div&gt;&lt;span&gt;two&lt;/span&gt;&#39;</span> <span class="o">+</span>
    <span class="s1">&#39;&lt;span class=&quot;myclass&quot;&gt;three&lt;/span&gt;&lt;div id=&quot;myid&quot;&gt;four&lt;/div&gt;&#39;</span>
<span class="p">);</span>

<span class="kd">var</span> <span class="nx">els</span> <span class="o">=</span> <span class="nx">doc</span><span class="p">.</span><span class="nx">findTag</span><span class="p">(</span><span class="s1">&#39;body&#39;</span><span class="p">).</span><span class="nx">children</span><span class="p">();</span>

<span class="kd">var</span> <span class="nx">hasmyclass</span> <span class="o">=</span> <span class="nx">els</span><span class="p">.</span><span class="nx">hasClass</span><span class="p">(</span><span class="s1">&#39;myclass&#39;</span><span class="p">);</span>

<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">hasmyclass</span><span class="p">);</span>

<span class="cm">/* expected output:</span>

<span class="cm">[true,false,true,false]</span>

<span class="cm">*/</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="manipulating-elements">
<h3>Manipulating Elements<a class="headerlink" href="#manipulating-elements" title="Permalink to this headline">¶</a></h3>
<div class="section" id="attr">
<h4>attr<a class="headerlink" href="#attr" title="Permalink to this headline">¶</a></h4>
<p>Given a list of elements, change the named attribute to the specified value,
or, if not present add the attribute with the specified value.  Returns
itself.</p>
<p>Example:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">html</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">&quot;rampart-html&quot;</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">doc</span> <span class="o">=</span> <span class="nx">html</span><span class="p">.</span><span class="nx">newDocument</span><span class="p">(</span>
    <span class="s1">&#39;&lt;div title=&quot;My Div&quot;&gt;one&lt;/div&gt;&lt;span&gt;two&lt;/span&gt;&#39;</span> <span class="o">+</span>
    <span class="s1">&#39;&lt;span&gt;three&lt;/span&gt;&lt;div title=&quot;Another Div&quot;&gt;four&lt;/div&gt;&#39;</span>
<span class="p">);</span>

<span class="kd">var</span> <span class="nx">els</span> <span class="o">=</span> <span class="nx">doc</span><span class="p">.</span><span class="nx">findTag</span><span class="p">(</span><span class="s1">&#39;body&#39;</span><span class="p">).</span><span class="nx">children</span><span class="p">();</span>

<span class="nx">els</span><span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;title&quot;</span><span class="p">,</span> <span class="s2">&quot;I&#39;m an element&quot;</span><span class="p">);</span>

<span class="nx">rampart</span><span class="p">.</span><span class="nx">utils</span><span class="p">.</span><span class="nx">printf</span><span class="p">(</span><span class="s2">&quot;%3J\n&quot;</span><span class="p">,</span> <span class="nx">els</span><span class="p">.</span><span class="nx">toHtml</span><span class="p">());</span>

<span class="cm">/* expected output:</span>

<span class="cm">[</span>
<span class="cm">   &quot;&lt;div title=\&quot;I&#39;m an element\&quot;&gt;one&lt;/div&gt;&quot;,</span>
<span class="cm">   &quot;&lt;span title=\&quot;I&#39;m an element\&quot;&gt;two&lt;/span&gt;&quot;,</span>
<span class="cm">   &quot;&lt;span title=\&quot;I&#39;m an element\&quot;&gt;three&lt;/span&gt;&quot;,</span>
<span class="cm">   &quot;&lt;div title=\&quot;I&#39;m an element\&quot;&gt;four&lt;/div&gt;&quot;</span>
<span class="cm">]</span>

<span class="cm">*/</span>
</pre></div>
</div>
</div>
<div class="section" id="removeattr">
<h4>removeAttr<a class="headerlink" href="#removeattr" title="Permalink to this headline">¶</a></h4>
<p>Given a list of elements, remove the named attribute.  If not present no
changes are made.  Returns itself.</p>
<p>Example:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">html</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">&quot;rampart-html&quot;</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">doc</span> <span class="o">=</span> <span class="nx">html</span><span class="p">.</span><span class="nx">newDocument</span><span class="p">(</span>
    <span class="s1">&#39;&lt;div title=&quot;My Div&quot;&gt;one&lt;/div&gt;&lt;span title&gt;two&lt;/span&gt;&#39;</span> <span class="o">+</span>
    <span class="s1">&#39;&lt;span&gt;three&lt;/span&gt;&lt;div title=&quot;Another Div&quot;&gt;four&lt;/div&gt;&#39;</span>
<span class="p">);</span>

<span class="kd">var</span> <span class="nx">els</span> <span class="o">=</span> <span class="nx">doc</span><span class="p">.</span><span class="nx">findTag</span><span class="p">(</span><span class="s1">&#39;body&#39;</span><span class="p">).</span><span class="nx">children</span><span class="p">();</span>

<span class="nx">els</span><span class="p">.</span><span class="nx">removeAttr</span><span class="p">(</span><span class="s2">&quot;title&quot;</span><span class="p">);</span>

<span class="nx">rampart</span><span class="p">.</span><span class="nx">utils</span><span class="p">.</span><span class="nx">printf</span><span class="p">(</span><span class="s2">&quot;%3J\n&quot;</span><span class="p">,</span> <span class="nx">els</span><span class="p">.</span><span class="nx">toHtml</span><span class="p">());</span>

<span class="cm">/* expected output:</span>

<span class="cm">[</span>
<span class="cm">   &quot;&lt;div&gt;one&lt;/div&gt;&quot;,</span>
<span class="cm">   &quot;&lt;span&gt;two&lt;/span&gt;&quot;,</span>
<span class="cm">   &quot;&lt;span&gt;three&lt;/span&gt;&quot;,</span>
<span class="cm">   &quot;&lt;div&gt;four&lt;/div&gt;&quot;</span>
<span class="cm">]</span>

<span class="cm">*/</span>
</pre></div>
</div>
</div>
<div class="section" id="addclass">
<h4>addClass<a class="headerlink" href="#addclass" title="Permalink to this headline">¶</a></h4>
<p>Given a list of elements, add the named class to each.
Returns itself.</p>
<p>Example:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">html</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">&quot;rampart-html&quot;</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">doc</span> <span class="o">=</span> <span class="nx">html</span><span class="p">.</span><span class="nx">newDocument</span><span class="p">(</span>
    <span class="s1">&#39;&lt;div  class=&quot;myclass&quot;&gt;one&lt;/div&gt;&lt;span&gt;two&lt;/span&gt;&#39;</span> <span class="o">+</span>
    <span class="s1">&#39;&lt;span class=&quot;myclass&quot;&gt;three&lt;/span&gt;&lt;div id=&quot;myid&quot;&gt;four&lt;/div&gt;&#39;</span>
<span class="p">);</span>

<span class="kd">var</span> <span class="nx">els</span> <span class="o">=</span> <span class="nx">doc</span><span class="p">.</span><span class="nx">findTag</span><span class="p">(</span><span class="s1">&#39;body&#39;</span><span class="p">).</span><span class="nx">children</span><span class="p">();</span>

<span class="nx">els</span><span class="p">.</span><span class="nx">addClass</span><span class="p">(</span><span class="s1">&#39;mycolor&#39;</span><span class="p">);</span>

<span class="nx">rampart</span><span class="p">.</span><span class="nx">utils</span><span class="p">.</span><span class="nx">printf</span><span class="p">(</span><span class="s2">&quot;%3J\n&quot;</span><span class="p">,</span> <span class="nx">els</span><span class="p">.</span><span class="nx">toHtml</span><span class="p">());</span>

<span class="cm">/* expected output:</span>

<span class="cm">[</span>
<span class="cm">   &quot;&lt;div class=\&quot;myclass mycolor\&quot;&gt;one&lt;/div&gt;&quot;,</span>
<span class="cm">   &quot;&lt;span class=\&quot;mycolor\&quot;&gt;two&lt;/span&gt;&quot;,</span>
<span class="cm">   &quot;&lt;span class=\&quot;myclass mycolor\&quot;&gt;three&lt;/span&gt;&quot;,</span>
<span class="cm">   &quot;&lt;div class=\&quot;mycolor\&quot; id=\&quot;myid\&quot;&gt;four&lt;/div&gt;&quot;</span>
<span class="cm">]</span>

<span class="cm">*/</span>
</pre></div>
</div>
</div>
<div class="section" id="removeclass">
<h4>removeClass<a class="headerlink" href="#removeclass" title="Permalink to this headline">¶</a></h4>
<p>Given a list of elements, remove the named class from each.
Returns itself.</p>
<p>Example:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">html</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">&quot;rampart-html&quot;</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">doc</span> <span class="o">=</span> <span class="nx">html</span><span class="p">.</span><span class="nx">newDocument</span><span class="p">(</span>
    <span class="s1">&#39;&lt;div  class=&quot;myclass&quot;&gt;one&lt;/div&gt;&lt;span&gt;two&lt;/span&gt;&#39;</span> <span class="o">+</span>
    <span class="s1">&#39;&lt;span class=&quot;myclass&quot;&gt;three&lt;/span&gt;&lt;div id=&quot;myid&quot;&gt;four&lt;/div&gt;&#39;</span>
<span class="p">);</span>

<span class="kd">var</span> <span class="nx">els</span> <span class="o">=</span> <span class="nx">doc</span><span class="p">.</span><span class="nx">findTag</span><span class="p">(</span><span class="s1">&#39;body&#39;</span><span class="p">).</span><span class="nx">children</span><span class="p">();</span>

<span class="nx">els</span><span class="p">.</span><span class="nx">removeClass</span><span class="p">(</span><span class="s1">&#39;myclass&#39;</span><span class="p">);</span>

<span class="nx">rampart</span><span class="p">.</span><span class="nx">utils</span><span class="p">.</span><span class="nx">printf</span><span class="p">(</span><span class="s2">&quot;%3J\n&quot;</span><span class="p">,</span> <span class="nx">els</span><span class="p">.</span><span class="nx">toHtml</span><span class="p">());</span>

<span class="cm">/* expected output:</span>

<span class="cm">[</span>
<span class="cm">   &quot;&lt;div class&gt;one&lt;/div&gt;&quot;,</span>
<span class="cm">   &quot;&lt;span&gt;two&lt;/span&gt;&quot;,</span>
<span class="cm">   &quot;&lt;span class&gt;three&lt;/span&gt;&quot;,</span>
<span class="cm">   &quot;&lt;div id=\&quot;myid\&quot;&gt;four&lt;/div&gt;&quot;</span>
<span class="cm">]</span>

<span class="cm">*/</span>
</pre></div>
</div>
</div>
<div class="section" id="detach">
<h4>detach<a class="headerlink" href="#detach" title="Permalink to this headline">¶</a></h4>
<p>Detach the list of elements from the document and return a new <em>html object</em>
with the detached elements.</p>
<p>See <a class="reference internal" href="#append">append</a> below for an example.</p>
</div>
<div class="section" id="delete">
<h4>delete<a class="headerlink" href="#delete" title="Permalink to this headline">¶</a></h4>
<p>Same as detach, but no new list is created and nothing is returned (returns
<code class="docutils literal notranslate"><span class="pre">undefined</span></code>).</p>
</div>
<div class="section" id="append">
<h4>append<a class="headerlink" href="#append" title="Permalink to this headline">¶</a></h4>
<p>Append the provided list of elements to each of the given elements as
child(ren) of the given elements.</p>
<p>Usage:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">newlist</span> <span class="o">=</span> <span class="nx">oldlist</span><span class="p">.</span><span class="nx">attach</span><span class="p">(</span><span class="nx">elems</span><span class="p">);</span>
</pre></div>
</div>
<p>Where</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">newlist</span></code> is a new <em>html object</em> containing the elements from
<code class="docutils literal notranslate"><span class="pre">oldlist</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">oldlist</span></code> contains the given elements to append.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">elems</span></code> is an <em>html object</em> or a <span class="green">String</span>  of text or html
to be appended to the given elements.</p></li>
</ul>
<p>Example:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">html</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">&quot;rampart-html&quot;</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">doc</span> <span class="o">=</span> <span class="nx">html</span><span class="p">.</span><span class="nx">newDocument</span><span class="p">(</span>
    <span class="s1">&#39;&lt;div&gt;one&lt;/div&gt;&lt;span&gt;two&lt;/span&gt;&#39;</span> <span class="o">+</span>
    <span class="s1">&#39;&lt;span&gt;three&lt;/span&gt;&lt;span&gt;four&lt;/span&gt;&#39;</span> <span class="o">+</span>
    <span class="s1">&#39;&lt;div&gt;five&lt;/div&gt;&#39;</span>
<span class="p">);</span>

<span class="cm">/* find all spans and detach them from the document */</span>
<span class="kd">var</span> <span class="nx">spans</span> <span class="o">=</span> <span class="nx">doc</span><span class="p">.</span><span class="nx">findTag</span><span class="p">(</span><span class="s1">&#39;span&#39;</span><span class="p">).</span><span class="nx">detach</span><span class="p">();</span>

<span class="kd">var</span> <span class="nx">divs</span> <span class="o">=</span> <span class="nx">doc</span><span class="p">.</span><span class="nx">findTag</span><span class="p">(</span><span class="s1">&#39;div&#39;</span><span class="p">);</span>

<span class="cm">/* add the spans back to document as children of the divs */</span>
<span class="kd">var</span> <span class="nx">newlist</span> <span class="o">=</span> <span class="nx">divs</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="nx">spans</span><span class="p">);</span>

<span class="cm">/* add some text to the divs */</span>

<span class="nx">newlist</span> <span class="o">=</span> <span class="nx">divs</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="s2">&quot;...&quot;</span><span class="p">);</span>

<span class="nx">rampart</span><span class="p">.</span><span class="nx">utils</span><span class="p">.</span><span class="nx">printf</span><span class="p">(</span><span class="s2">&quot;%3J\n&quot;</span><span class="p">,</span> <span class="nx">newlist</span><span class="p">.</span><span class="nx">toHtml</span><span class="p">());</span>

<span class="cm">/* expected output:</span>

<span class="cm">[</span>
<span class="cm">   &quot;&lt;div&gt;one&lt;span&gt;two&lt;/span&gt;&lt;span&gt;three&lt;/span&gt;&lt;span&gt;four&lt;/span&gt;...&lt;/div&gt;&quot;,</span>
<span class="cm">   &quot;&lt;div&gt;five&lt;span&gt;two&lt;/span&gt;&lt;span&gt;three&lt;/span&gt;&lt;span&gt;four&lt;/span&gt;...&lt;/div&gt;&quot;</span>
<span class="cm">]</span>

<span class="cm">*/</span>
</pre></div>
</div>
</div>
<div class="section" id="prepend">
<h4>prepend<a class="headerlink" href="#prepend" title="Permalink to this headline">¶</a></h4>
<p>Similar to <a class="reference internal" href="#append">append</a> above, except that the provided elements are added to
the beginning of the list of children of the given elements.</p>
<p>Example:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">html</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">&quot;rampart-html&quot;</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">doc</span> <span class="o">=</span> <span class="nx">html</span><span class="p">.</span><span class="nx">newDocument</span><span class="p">(</span>
    <span class="s1">&#39;&lt;div&gt;one&lt;/div&gt;&lt;span&gt;two&lt;/span&gt;&#39;</span> <span class="o">+</span>
    <span class="s1">&#39;&lt;span&gt;three&lt;/span&gt;&lt;span&gt;four&lt;/span&gt;&#39;</span> <span class="o">+</span>
    <span class="s1">&#39;&lt;div&gt;five&lt;/div&gt;&#39;</span>
<span class="p">);</span>

<span class="cm">/* find all spans and detach them from the document */</span>
<span class="kd">var</span> <span class="nx">spans</span> <span class="o">=</span> <span class="nx">doc</span><span class="p">.</span><span class="nx">findTag</span><span class="p">(</span><span class="s1">&#39;span&#39;</span><span class="p">).</span><span class="nx">detach</span><span class="p">();</span>

<span class="kd">var</span> <span class="nx">divs</span> <span class="o">=</span> <span class="nx">doc</span><span class="p">.</span><span class="nx">findTag</span><span class="p">(</span><span class="s1">&#39;div&#39;</span><span class="p">);</span>

<span class="cm">/* add a space before the contents of each span.</span>
<span class="cm">   Note also that &#39;&amp;nbsp;&#39; is used as leading white space</span>
<span class="cm">   is automatically trimmed.</span>
<span class="cm">*/</span>

<span class="nx">spans</span> <span class="o">=</span> <span class="nx">spans</span><span class="p">.</span><span class="nx">prepend</span><span class="p">(</span><span class="s2">&quot;&amp;nbsp;&quot;</span><span class="p">);</span>

<span class="cm">/* add the spans back to document as children of the divs</span>
<span class="cm">   BUT before any existing children                      */</span>

<span class="kd">var</span> <span class="nx">newlist</span> <span class="o">=</span> <span class="nx">divs</span><span class="p">.</span><span class="nx">prepend</span><span class="p">(</span><span class="nx">spans</span><span class="p">);</span>

<span class="nx">rampart</span><span class="p">.</span><span class="nx">utils</span><span class="p">.</span><span class="nx">printf</span><span class="p">(</span><span class="s2">&quot;%3J\n&quot;</span><span class="p">,</span> <span class="nx">newlist</span><span class="p">.</span><span class="nx">toHtml</span><span class="p">());</span>

<span class="cm">/* expected output:</span>

<span class="cm">[</span>

<span class="cm">&quot;&lt;div&gt;&lt;span&gt;&amp;nbsp;two&lt;/span&gt;&lt;span&gt;&amp;nbsp;three&lt;/span&gt;&lt;span&gt;&amp;nbsp;four&lt;/span&gt;one&lt;/div&gt;&quot;,</span>
<span class="cm">&quot;&lt;div&gt;&lt;span&gt;&amp;nbsp;two&lt;/span&gt;&lt;span&gt;&amp;nbsp;three&lt;/span&gt;&lt;span&gt;&amp;nbsp;four&lt;/span&gt;five&lt;/div&gt;&quot;</span>
<span class="cm">]</span>

<span class="cm">*/</span>
</pre></div>
</div>
</div>
<div class="section" id="after">
<h4>after<a class="headerlink" href="#after" title="Permalink to this headline">¶</a></h4>
<p>Place the provided list of elements <strong>after</strong> each of the given elements.
Return a new <em>html object</em> with the given elements, each followed by the
provided elements.</p>
<p>Usage:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">newlist</span> <span class="o">=</span> <span class="nx">oldlist</span><span class="p">.</span><span class="nx">after</span><span class="p">(</span><span class="nx">elems</span><span class="p">);</span>
</pre></div>
</div>
<p>Where</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">newlist</span></code> is a new <em>html object</em> containing the elements from
<code class="docutils literal notranslate"><span class="pre">oldlist</span></code> and <code class="docutils literal notranslate"><span class="pre">elems</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">oldlist</span></code> contains the given elements which provide a reference for placement.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">elems</span></code> is an <em>html object</em> or a <span class="green">String</span>  of text or html
to be placed after to the given elements.</p></li>
</ul>
<p>Example:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">html</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">&quot;rampart-html&quot;</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">doc</span> <span class="o">=</span> <span class="nx">html</span><span class="p">.</span><span class="nx">newDocument</span><span class="p">(</span>
    <span class="s1">&#39;&lt;div&gt;one&lt;/div&gt;&#39;</span> <span class="o">+</span>
    <span class="s1">&#39;&lt;div&gt;two&lt;/div&gt;&#39;</span><span class="p">,</span>
    <span class="p">{</span><span class="nx">indent</span><span class="o">:</span> <span class="kc">true</span><span class="p">}</span>
<span class="p">);</span>

<span class="kd">var</span> <span class="nx">divs</span> <span class="o">=</span> <span class="nx">doc</span><span class="p">.</span><span class="nx">findTag</span><span class="p">(</span><span class="s1">&#39;div&#39;</span><span class="p">);</span>

<span class="nx">newlist</span> <span class="o">=</span> <span class="nx">divs</span><span class="p">.</span><span class="nx">after</span><span class="p">(</span><span class="s1">&#39;&lt;span&gt;3&lt;/span&gt;&lt;span&gt;4&lt;/span&gt;&#39;</span><span class="p">);</span>

<span class="nx">rampart</span><span class="p">.</span><span class="nx">utils</span><span class="p">.</span><span class="nx">printf</span><span class="p">(</span><span class="s2">&quot;%3J\n&quot;</span><span class="p">,</span> <span class="nx">newlist</span><span class="p">.</span><span class="nx">toHtml</span><span class="p">());</span>

<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">doc</span><span class="p">.</span><span class="nx">prettyPrint</span><span class="p">());</span>

<span class="cm">/* expected output:</span>

<span class="cm">[</span>
<span class="cm">   &quot;&lt;div&gt;one&lt;/div&gt;&quot;,</span>
<span class="cm">   &quot;&lt;span&gt;3&lt;/span&gt;&quot;,</span>
<span class="cm">   &quot;&lt;span&gt;4&lt;/span&gt;&quot;,</span>
<span class="cm">   &quot;&lt;div&gt;two&lt;/div&gt;&quot;,</span>
<span class="cm">   &quot;&lt;span&gt;3&lt;/span&gt;&quot;,</span>
<span class="cm">   &quot;&lt;span&gt;4&lt;/span&gt;&quot;</span>
<span class="cm">]</span>
<span class="cm">&lt;!DOCTYPE html&gt;</span>
<span class="cm">&lt;html&gt;</span>
<span class="cm">  &lt;head&gt;</span>
<span class="cm">    &lt;title&gt;&lt;/title&gt;</span>
<span class="cm">  &lt;/head&gt;</span>
<span class="cm">  &lt;body&gt;</span>
<span class="cm">    &lt;div&gt;</span>
<span class="cm">      one</span>
<span class="cm">    &lt;/div&gt;&lt;span&gt;3&lt;/span&gt;&lt;span&gt;4&lt;/span&gt;</span>
<span class="cm">    &lt;div&gt;</span>
<span class="cm">      two</span>
<span class="cm">    &lt;/div&gt;&lt;span&gt;3&lt;/span&gt;&lt;span&gt;4&lt;/span&gt;</span>
<span class="cm">  &lt;/body&gt;</span>
<span class="cm">&lt;/html&gt;</span>

<span class="cm">*/</span>
</pre></div>
</div>
</div>
<div class="section" id="before">
<h4>before<a class="headerlink" href="#before" title="Permalink to this headline">¶</a></h4>
<p>Similar to <a class="reference internal" href="#after">after</a> except the provided list of elements are placed <strong>before</strong> each of the given elements.</p>
<p>Example:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">html</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">&quot;rampart-html&quot;</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">doc</span> <span class="o">=</span> <span class="nx">html</span><span class="p">.</span><span class="nx">newDocument</span><span class="p">(</span>
    <span class="s1">&#39;&lt;div&gt;one&lt;/div&gt;&#39;</span> <span class="o">+</span>
    <span class="s1">&#39;&lt;div&gt;two&lt;/div&gt;&#39;</span><span class="p">,</span>
    <span class="p">{</span><span class="nx">indent</span><span class="o">:</span> <span class="kc">true</span><span class="p">}</span>
<span class="p">);</span>

<span class="kd">var</span> <span class="nx">divs</span> <span class="o">=</span> <span class="nx">doc</span><span class="p">.</span><span class="nx">findTag</span><span class="p">(</span><span class="s1">&#39;div&#39;</span><span class="p">);</span>

<span class="nx">newlist</span> <span class="o">=</span> <span class="nx">divs</span><span class="p">.</span><span class="nx">before</span><span class="p">(</span><span class="s1">&#39;&lt;span&gt;3&lt;/span&gt;&lt;span&gt;4&lt;/span&gt;&#39;</span><span class="p">);</span>

<span class="nx">rampart</span><span class="p">.</span><span class="nx">utils</span><span class="p">.</span><span class="nx">printf</span><span class="p">(</span><span class="s2">&quot;%3J\n&quot;</span><span class="p">,</span> <span class="nx">newlist</span><span class="p">.</span><span class="nx">toHtml</span><span class="p">());</span>

<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">doc</span><span class="p">.</span><span class="nx">prettyPrint</span><span class="p">());</span>

<span class="cm">/* expected output:</span>

<span class="cm">[</span>
<span class="cm">   &quot;&lt;span&gt;3&lt;/span&gt;&quot;,</span>
<span class="cm">   &quot;&lt;span&gt;4&lt;/span&gt;&quot;,</span>
<span class="cm">   &quot;&lt;div&gt;one&lt;/div&gt;&quot;,</span>
<span class="cm">   &quot;&lt;span&gt;3&lt;/span&gt;&quot;,</span>
<span class="cm">   &quot;&lt;span&gt;4&lt;/span&gt;&quot;,</span>
<span class="cm">   &quot;&lt;div&gt;two&lt;/div&gt;&quot;</span>
<span class="cm">]</span>
<span class="cm">&lt;!DOCTYPE html&gt;</span>
<span class="cm">&lt;html&gt;</span>
<span class="cm">  &lt;head&gt;</span>
<span class="cm">    &lt;title&gt;&lt;/title&gt;</span>
<span class="cm">  &lt;/head&gt;</span>
<span class="cm">  &lt;body&gt;</span>
<span class="cm">    &lt;span&gt;3&lt;/span&gt;&lt;span&gt;4&lt;/span&gt;</span>
<span class="cm">    &lt;div&gt;</span>
<span class="cm">      one</span>
<span class="cm">    &lt;/div&gt;&lt;span&gt;3&lt;/span&gt;&lt;span&gt;4&lt;/span&gt;</span>
<span class="cm">    &lt;div&gt;</span>
<span class="cm">      two</span>
<span class="cm">    &lt;/div&gt;</span>
<span class="cm">  &lt;/body&gt;</span>
<span class="cm">&lt;/html&gt;</span>

<span class="cm">*/</span>
</pre></div>
</div>
</div>
<div class="section" id="replace">
<h4>replace<a class="headerlink" href="#replace" title="Permalink to this headline">¶</a></h4>
<p>Similar to <a class="reference internal" href="#after">after</a> and <a class="reference internal" href="#before">before</a> above, except that the given elements are
replaced.</p>
<p>Example:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">html</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">&quot;rampart-html&quot;</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">doc</span> <span class="o">=</span> <span class="nx">html</span><span class="p">.</span><span class="nx">newDocument</span><span class="p">(</span>
    <span class="s1">&#39;&lt;div&gt;one&lt;/div&gt;&#39;</span> <span class="o">+</span>
    <span class="s1">&#39;&lt;div&gt;two&lt;/div&gt;&#39;</span><span class="p">,</span>
    <span class="p">{</span><span class="nx">indent</span><span class="o">:</span> <span class="kc">true</span><span class="p">}</span>
<span class="p">);</span>

<span class="kd">var</span> <span class="nx">divs</span> <span class="o">=</span> <span class="nx">doc</span><span class="p">.</span><span class="nx">findTag</span><span class="p">(</span><span class="s1">&#39;div&#39;</span><span class="p">);</span>

<span class="nx">newlist</span> <span class="o">=</span> <span class="nx">divs</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="s1">&#39;&lt;span&gt;3&lt;/span&gt;&lt;span&gt;4&lt;/span&gt;&#39;</span><span class="p">);</span>

<span class="nx">rampart</span><span class="p">.</span><span class="nx">utils</span><span class="p">.</span><span class="nx">printf</span><span class="p">(</span><span class="s2">&quot;%3J\n&quot;</span><span class="p">,</span> <span class="nx">newlist</span><span class="p">.</span><span class="nx">toHtml</span><span class="p">());</span>

<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">doc</span><span class="p">.</span><span class="nx">prettyPrint</span><span class="p">());</span>

<span class="cm">/* expected output:</span>

<span class="cm">[</span>
<span class="cm">   &quot;&lt;span&gt;3&lt;/span&gt;&quot;,</span>
<span class="cm">   &quot;&lt;span&gt;4&lt;/span&gt;&quot;,</span>
<span class="cm">   &quot;&lt;span&gt;3&lt;/span&gt;&quot;,</span>
<span class="cm">   &quot;&lt;span&gt;4&lt;/span&gt;&quot;</span>
<span class="cm">]</span>
<span class="cm">&lt;!DOCTYPE html&gt;</span>
<span class="cm">&lt;html&gt;</span>
<span class="cm">  &lt;head&gt;</span>
<span class="cm">    &lt;title&gt;&lt;/title&gt;</span>
<span class="cm">  &lt;/head&gt;</span>
<span class="cm">  &lt;body&gt;</span>
<span class="cm">    &lt;span&gt;3&lt;/span&gt;&lt;span&gt;4&lt;/span&gt;&lt;span&gt;3&lt;/span&gt;&lt;span&gt;4&lt;/span&gt;</span>
<span class="cm">  &lt;/body&gt;</span>
<span class="cm">&lt;/html&gt;</span>

<span class="cm">*/</span>
</pre></div>
</div>
</div>
</div>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="rampart-crypto.html" class="btn btn-neutral float-right" title="The rampart-crypto module" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="rampart-server.html" class="btn btn-neutral" title="The rampart-server HTTP module" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020, Moat Crossing Systems.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> and ❤️  using a custom <a href="https://github.com/LinxiFan/Sphinx-theme">theme</a> based on <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'0.1.0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>
      <script type="text/javascript" src="_static/language_data.js"></script>
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>